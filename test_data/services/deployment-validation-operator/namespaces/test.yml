---
$schema: /openshift/namespace-1.yml

labels: {}

name: dvo-tests-ns
description: dvo test namespace

cluster:
  $ref: /openshift/test-cluster/cluster.yml

app:
  $ref: /services/deployment-validation-operator/app.yml

environment:
  $ref: /products/app-sre/environments/test.yml

openshiftResources:
- provider: prometheus-rule
  type: resource-template-extracurlyjinja2
  path: /services/deployment-validation-operator/prometheusrules-no_anti_affinity.yaml.j2
  enable_query_support: true
  tests:
  - /services/deployment-validation-operator/prometheusrulestests-no_anti_affinity.yaml
- provider: prometheus-rule
  type: resource-template-extracurlyjinja2
  path: /services/deployment-validation-operator/prometheusrules-default_service_account.yaml.j2
  enable_query_support: true
  tests:
  - /services/deployment-validation-operator/prometheusrulestests-default_service_account.yaml
- provider: prometheus-rule
  type: resource-template-extracurlyjinja2
  path: /services/deployment-validation-operator/prometheusrules-drop_net_raw_capability.yaml.j2
  enable_query_support: true
  tests:
  - /services/deployment-validation-operator/prometheusrulestests-drop_net_raw_capability.yaml
- provider: prometheus-rule
  type: resource-template-extracurlyjinja2
  path: /services/deployment-validation-operator/prometheusrules-latest_tag.yaml.j2
  enable_query_support: true
  tests:
  - /services/deployment-validation-operator/prometheusrulestests-latest_tag.yaml
- provider: prometheus-rule
  type: resource-template-extracurlyjinja2
  path: /services/deployment-validation-operator/prometheusrules-minimum_three_replicas.yaml.j2
  enable_query_support: true
  tests:
  - /services/deployment-validation-operator/prometheusrulestests-minimum_three_replicas.yaml
- provider: prometheus-rule
  type: resource-template-extracurlyjinja2
  path: /services/deployment-validation-operator/prometheusrules-privileged_ports.yaml.j2
  enable_query_support: true
  tests:
  - /services/deployment-validation-operator/prometheusrulestests-privileged_ports.yaml
- provider: prometheus-rule
  type: resource-template-extracurlyjinja2
  path: /services/deployment-validation-operator/prometheusrules-no_liveness_probe.yaml.j2
  enable_query_support: true
  tests:
  - /services/deployment-validation-operator/prometheusrulestests-no_liveness_probe.yaml
- provider: prometheus-rule
  type: resource-template-extracurlyjinja2
  path: /services/deployment-validation-operator/prometheusrules-no_readiness_probe.yaml.j2
  enable_query_support: true
  tests:
  - /services/deployment-validation-operator/prometheusrulestests-no_readiness_probe.yaml
- provider: prometheus-rule
  type: resource-template-extracurlyjinja2
  path: /services/deployment-validation-operator/prometheusrules-unset_cpu_requirements.yaml.j2
  enable_query_support: true
  tests:
  - /services/deployment-validation-operator/prometheusrulestests-unset_cpu_requirements.yaml
- provider: prometheus-rule
  type: resource-template-extracurlyjinja2
  path: /services/deployment-validation-operator/prometheusrules-unset_memory_requirements.yaml.j2
  enable_query_support: true
  tests:
  - /services/deployment-validation-operator/prometheusrulestests-unset_memory_requirements.yaml
