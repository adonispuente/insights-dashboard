- defaults:
    <<: *local_defaults
    name: global
    label: none
    disable: 'false'
    display-name: '[{label}] {display_name}'
    image_pattern: ''
    saasherder_image: "quay.io/openshiftio/saasherder:238a508"
    saasherder_docker: "docker run {saasherder_options} {saasherder_image}"
    saasherder_check_image: "docker run {saasherder_options} -e SKOPEO_USER=$QUAY_USER -e SKOPEO_PASS=$QUAY_TOKEN --entrypoint '' {saasherder_image} python /scripts/check_image.py"
    saasherder_object_blacklist: 'Route,Secret,ConfigMap,ServiceAccount'
    saasherder_object_whitelist: 'Deployment,DeploymentConfig,Service,ConfigMap,Role,RoleBinding,ServiceAccount,CronJob'
    description: |
        [{label}] {display_name}
        Managed by App-Interface https://gitlab.cee.redhat.com/service/app-interface
    timeout: 30
    concurrent_build: false
    manifest_bouncer_options: '--warn-only'
    manifest_bouncer_cmd: 'docker run --rm -i quay.io/app-sre/manifest-bouncer:d21c96f {manifest_bouncer_options} -'

- wrapper:
    name: timeout_wrapper
    wrappers:
      - timeout:
          timeout: '{timeout}'
          timeout-var: 'BUILD_TIMEOUT'
          fail: true
          type: no-activity

- vault_defaults: &vault_defaults
    name: 'vault_defaults'
    vault-url: 'https://vault.devshift.net'
    credentials-id: 'vault-creds'
