- job-template:
      id: "osde2e-parameterized-job"
      name: "osde2e-parameterized-job"
      instance_type: "m5.xlarge"
      region: "us-east-1"
      report_dir: "osde2e-report"
      configs: "rosa,stage,e2e-suite"
      branch: main
      wrappers:
      - ansicolor
      - vault-secrets:
          <<: *vault_defaults
          secrets:
          - *osde2e-aws-keys
          - *osde2e-ocm-access
      builders:
      - shell:
          command: "{ci_cmd}"
      parameters:
      - string:
          name: INSTANCE_TYPE
          default: "{instance_type}"
      - string:
          name: CLOUD_PROVIDER_REGION
          default: "{region}"
          required: true
      - string:
          name: REPORT_DIR
          default: "{report_dir}"
      - string:
          name: CONFIGS
          default: "{configs}"
          required: true
      - string:
          name: CLUSTER_ID
      - string:
          name: INSTALL_LATEST_XY
      - bool:
          name: STS
          default: true
      - choice:
          name: ENVIRONMENT
          choices:
            - stage
            - prod
          description: "OCM environment"
      - bool:
           name: SKIP_HEALTH_CHECKS
           default: false
      - bool:
          name: SKIP_DESTROY_CLUSTER
          default: false
      - bool:
          name: MUST_GATHER
          default: true
      - string:
          name: ADDITIONAL_FLAGS
      publishers:
      - junit:
          results: '**/junit*.xml'
      properties:
      - build-discarder:
          days-to-keep: 30
          artifact-days-to-keep: 30
      <<: *gh_checkout
