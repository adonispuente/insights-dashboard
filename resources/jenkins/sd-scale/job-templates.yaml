- job-template:
    id: 'sd-scale-test'
    name: 'sd-scale-test'
    node: '{node}'
    branch: 'main'
    gh_org: 'openshift'
    gh_repo: 'osde2e'
    <<: *gh_checkout
    wrappers:
    - workspace-cleanup
    publishers:
    - archive:
        artifacts: 'report/**/*.*'
    parameters:
    - choice:
        name: SCALE_TEST_TYPE
        description: The type of scale test being run.
        choices:
        - BURST
        - CONCURRENT_MANAGEMENT  
    - string:
        name: NUMBER_OF_CLUSTERS
        description: The number of clusters to provision.
    - string:
        name: SIZE_OF_BATCHES
        description: The size of batches to use when provisioning clusters. If left blank, will assume an infinite batch size.
    - string:
        name: SECONDS_BETWEEN_BATCHES
        description: The number of seconds in between batches.
        default: 120
    - string:
        name: EXPIRY_IN_MINUTES
        description: How long the clusters should last for before getting expired.
        default: 120
    - string:
        name: PROVISION_SHARD_ID
        description: The shard ID that is set to provision a shard for the cluster        
    builders:
    - shell: |
        ./scripts/run-sd-scale-test.sh
