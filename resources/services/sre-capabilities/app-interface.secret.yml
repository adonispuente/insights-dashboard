apiVersion: v1
kind: Secret
metadata:
  name: app-interface
  annotations:
    qontract.recycle: "true"
type: Opaque
stringData:
  aws.access.key.id: {{ vault('app-sre/integrations-output/terraform-resources/' ~ resource.namespace.cluster.name ~ '/' ~ resource.namespace.name ~ '/sre-capabilities-s3', 'aws_access_key_id') }}
  aws.region: {{ vault('app-sre/integrations-output/terraform-resources/' ~ resource.namespace.cluster.name ~ '/' ~ resource.namespace.name ~ '/sre-capabilities-s3', 'aws_region') }}
  aws.secret.access.key: {{ vault('app-sre/integrations-output/terraform-resources/' ~ resource.namespace.cluster.name ~ '/' ~ resource.namespace.name ~ '/sre-capabilities-s3', 'aws_secret_access_key') }}
  aws.s3.bucket: {{ vault('app-sre/integrations-output/terraform-resources/' ~ resource.namespace.cluster.name ~ '/' ~ resource.namespace.name ~ '/sre-capabilities-s3', 'bucket') }}
  aws.s3.key: data.json
  htpasswd: "# placeholder"
  # slack.webhook_url
