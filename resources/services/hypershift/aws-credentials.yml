apiVersion: v1
kind: Secret
metadata:
  name: aws-credentials
  annotations:
    qontract.recycle: "true"
type: Opaque
stringData:
  credentials: |
    [profile source-profile]
    aws_access_key_id = {{{ vault('app-sre/integrations-output/terraform-resources/{{ cluster }}/hypershift/hypershift-private-link-creds', 'aws_access_key_id') }}}
    aws_secret_access_key = {{{ vault('app-sre/integrations-output/terraform-resources/{{ cluster }}/hypershift/hypershift-private-link-creds', 'aws_secret_access_key') }}}

    [default]
    role_arn = {{{ vault('app-sre/integrations-output/terraform-resources/{{ cluster }}/hypershift/hypershift-private-link-creds', 'role_arn') }}}
    source_profile = source-profile
