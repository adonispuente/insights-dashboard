# This file contains an OpenShift Route
# to access the Observability Remote Write Proxy externally
---
apiVersion: route.openshift.io/v1
kind: Route
metadata:
  name: observability-rw-proxy
  labels:
    app.kubernetes.io/name: observability-remote-write-proxy
spec:
  # Explicitly set host. The 'apps.app-sre-stage-0.k3s7.p1.openshiftapps.com'
  # suffix is the the domain name associated to the default
  # ingress controller in the stage cluster.
  host: observability-rw-proxy-managed-services-stage.apps.app-sre-stage-0.k3s7.p1.openshiftapps.com
  to:
    kind: Service
    name: observability-rw-proxy
  tls:
    termination: edge
    insecureEdgeTerminationPolicy: Redirect
