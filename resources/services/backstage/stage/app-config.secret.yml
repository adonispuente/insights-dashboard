---
apiVersion: v1
kind: Secret
metadata:
  name: backstage-app-config
  annotations:
    qontract.recycle: "true"
stringData:
  app-config.yaml: |
    app:
      title: Backstage stage
      baseUrl: https://backstage.stage.devshift.net

    backend:
      listen: 0.0.0.0:7007
      baseUrl: https://backstage.stage.devshift.net:7007

      database:
        client: pg
        connection:
          host: {{ vault('app-sre/integrations-output/terraform-resources/app-sre-stage-01/backstage-stage/backstage-db', 'db.host', 1) }}
          port: {{ vault('app-sre/integrations-output/terraform-resources/app-sre-stage-01/backstage-stage/backstage-db', 'db.port', 1) }}
          user: {{ vault('app-sre/integrations-output/terraform-resources/app-sre-stage-01/backstage-stage/backstage-db', 'db.user', 1) }}
          password: {{ vault('app-sre/integrations-output/terraform-resources/app-sre-stage-01/backstage-stage/backstage-db', 'db.password', 1) }}

    organization:
      name: Red Hat
