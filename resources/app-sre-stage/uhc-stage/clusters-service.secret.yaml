apiVersion: v1
kind: Secret
metadata:
  name: clusters-service
  annotations:
    qontract.recycle: "true"
data:
  external_cluster_services_mapping.config:
    {{% b64encode %}}
    external_cluster_services_mapping:
    - id: c591396e-b1e3-4d97-a7d4-8046ccb4d529
      cloud_provider_id: aws
      region_id: us-east-1
    - id: c591396e-b1e3-4d97-a7d4-8046ccb4d529
      cloud_provider_id: gcp
      region_id: us-east1
    {{% endb64encode %}}
  external_cluster_services.config:
    {{% b64encode %}}
    external_cluster_services:
    - id: c591396e-b1e3-4d97-a7d4-8046ccb4d529
      hive_config: |
        apiVersion: v1
        clusters:
        - cluster:
            server: https://api.hive-stage.openshift.com:443
          name: api-hive-stage-openshift-com:443
        contexts:
        - context:
            cluster: api-hive-stage-openshift-com:443
            user: system:serviceaccount:hive:hive-frontend/api-hive-stage-openshift-com:443
          name: /api-hive-stage-openshift-com:443/system:serviceaccount:hive:hive-frontend
        current-context: /api-hive-stage-openshift-com:443/system:serviceaccount:hive:hive-frontend
        kind: Config
        preferences: {}
        users:
        - name: system:serviceaccount:hive:hive-frontend/api-hive-stage-openshift-com:443
          user:
            token: {{{ vault('app-sre/integrations-output/openshift-serviceaccount-tokens/app-sre-stage-01/uhc-stage/hive-stage-hive-hive-frontend', 'token') }}}
      aws_account_operator_config: |
        apiVersion: v1
        clusters:
        - cluster:
            server: https://api.hive-stage.openshift.com:443
          name: api-hive-stage-openshift-com:443
        contexts:
        - context:
            cluster: api-hive-stage-openshift-com:443
            user: system:serviceaccount:aws-account-operator:aws-account-operator-client/api-hive-stage-openshift-com:443
          name: /api-hive-stage-openshift-com:443/system:serviceaccount:aws-account-operator:aws-account-operator-client
        current-context: /api-hive-stage-openshift-com:443/system:serviceaccount:aws-account-operator:aws-account-operator-client
        kind: Config
        preferences: {}
        users:
        - name: system:serviceaccount:aws-account-operator:aws-account-operator-client/api-hive-stage-openshift-com:443
          user:
            token: {{{ vault('app-sre/integrations-output/openshift-serviceaccount-tokens/app-sre-stage-01/uhc-stage/hive-stage-aws-account-operator-aws-account-operator-client', 'token') }}}
      gcp_project_operator_config: |
        apiVersion: v1
        clusters:
        - cluster:
            server: https://api.hive-stage.openshift.com:443
          name: api-hive-stage-openshift-com:443
        contexts:
        - context:
            cluster: api-hive-stage-openshift-com:443
            user: system:serviceaccount:gcp-project-operator:gcp-project-operator-client/api-hive-stage-openshift-com:443
          name: /api-hive-stage-openshift-com:443/system:serviceaccount:gcp-project-operator:gcp-project-operator-client
        current-context: /api-hive-stage-openshift-com:443/system:serviceaccount:gcp-project-operator:gcp-project-operator-client
        kind: Config
        preferences: {}
        users:
        - name: system:serviceaccount:gcp-project-operator:gcp-project-operator-client/api-hive-stage-openshift-com:443
          user:
            token: {{{ vault('app-sre/integrations-output/openshift-serviceaccount-tokens/app-sre-stage-01/uhc-stage/hive-stage-gcp-project-operator-gcp-project-operator-client', 'token') }}}
      aws_base_domain: s1.devshift.org
      gcp_base_domain: s2.devshift.org
    {{% endb64encode %}}
  self.password:
    {{% b64encode %}}{{{ vault('app-interface/app-sre-stage/uhc-stage/clusters-service', 'self.password', 13) }}}{{% endb64encode %}}
  self.token:
    {{% b64encode %}}{{{ vault('app-interface/app-sre-stage/uhc-stage/clusters-service', 'self.token', 13) }}}{{% endb64encode %}}
  self.user:
    {{% b64encode %}}{{{ vault('app-interface/app-sre-stage/uhc-stage/clusters-service', 'self.user', 13) }}}{{% endb64encode %}}
  sentry.dsn:
    {{% b64encode %}}{{{ vault('app-interface/app-sre-stage/uhc-stage/clusters-service', 'sentry.dsn', 13) }}}{{% endb64encode %}}
  telemeter.bearer:
    {{% b64encode %}}{{{ vault('app-sre/integrations-output/openshift-serviceaccount-tokens/app-sre-stage-01/uhc-stage/app-sre-stage-01-telemeter-stage-uhc-prometheus-access', 'token') }}}{{% endb64encode %}}
  telemeter.url:
    {{% b64encode %}}{{{ vault('app-interface/app-sre-stage/uhc-stage/clusters-service', 'telemeter.url', 13) }}}{{% endb64encode %}}
