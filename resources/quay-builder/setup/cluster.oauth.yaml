---
apiVersion: config.openshift.io/v1
kind: OAuth
metadata:
  annotations:
    release.openshift.io/create-only: "true"
  name: cluster
spec:
  identityProviders:
  - name: github
    mappingMethod: claim
    type: GitHub
    github:
      clientID: {{ vault('app-sre/integrations-input/ocm-github-idp/github-org-team/app-sre/quayio-builder-cluster', 'client-id') }}
      clientSecret:
        name: github-secret
      teams:
      - {{ resource.namespace.cluster.auth[0].org }}/{{ resource.namespace.cluster.auth[0].team }}
