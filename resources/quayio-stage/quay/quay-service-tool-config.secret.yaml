apiVersion: v1
kind: Secret
metadata:
  name: {{{ name }}}
data:
  config.yaml: |
    {{% b64encode %}}
    basic_auth:
      username: {{{ vault('app-interface/quayio-stage/quayio-stage/quay-service-tool-config', 'basic_auth.username', '{{ vault_secret_version }}') }}}
      password: {{{ vault('app-interface/quayio-stage/quayio-stage/quay-service-tool-config', 'basic_auth.password', '{{ vault_secret_version }}') }}}
      force: {{{ vault('app-interface/quayio-stage/quayio-stage/quay-service-tool-config', 'basic_auth.force', '{{ vault_secret_version }}') }}}
    db:
      host: {{{ vault('app-sre/integrations-output/terraform-resources/quays02ue1/quay/quayio-stage-57-rds', 'db.host') }}}
      user: {{{ vault('app-sre/integrations-output/terraform-resources/quays02ue1/quay/quayio-stage-57-rds', 'db.user') }}}
      password: {{{ vault('app-sre/integrations-output/terraform-resources/quays02ue1/quay/quayio-stage-57-rds', 'db.password') }}}
      name: {{{ vault('app-sre/integrations-output/terraform-resources/quays02ue1/quay/quayio-stage-57-rds', 'db.name') }}}
    is_local: {{{ vault('app-interface/quayio-stage/quayio-stage/quay-service-tool-config', 'is_local', '{{ vault_secret_version }}') }}}
    {{% endb64encode %}}
