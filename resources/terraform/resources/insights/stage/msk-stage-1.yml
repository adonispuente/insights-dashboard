$schema: /aws/msk-defaults-1.yml
kafka_version: '3.4.0'
number_of_broker_nodes: 3
broker_node_group_info:
  instance_type: kafka.m5.large
  client_subnets:
  - subnet-0ac848efc38a8e561
  - subnet-0c9fe7f2a2d21cb27
  - subnet-0b599b492eb072bde
  security_groups:
  - sg-043df7643040be950
  ebs_volume_size: 100
server_properties: |
  auto.create.topics.enable=false
  default.replication.factor=3
  min.insync.replicas=2
  num.io.threads=8
  num.network.threads=5
  num.partitions=6
  num.replica.fetchers=2
  replica.lag.time.max.ms=30000
  log.retention.ms=259200000
  socket.receive.buffer.bytes=102400
  socket.request.max.bytes=104857600
  socket.send.buffer.bytes=102400
  unclean.leader.election.enable=true
  zookeeper.session.timeout.ms=18000
  allow.everyone.if.no.acl.found=false
logging_info:
  broker_logs:
    cloudwatch_logs:
      enabled: true
      retention_in_days: 7
client_authentication:
  sasl:
    iam: false
    scram: true
