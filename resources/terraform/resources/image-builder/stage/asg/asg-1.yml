$schema: /aws/asg-defaults-1.yml

max_size: 8
min_size: 8
instance_types:
- c5.large
- c5d.large
- c5a.large
- c5.xlarge
- c5d.xlarge
- c5a.xlarge
- c6i.large
- c6i.xlarge
iam_role_name: workers-aoc-staging-role

vpc_zone_identifier:
- subnet-02a6a8ad85458f91f
- subnet-0ac6fa549cd73687f
- subnet-04a17379e942f34a2
- subnet-01a1d65dc581cfd2e
- subnet-037284fd5acf8aaae
- subnet-096b14ad8bfb4a5cb

capacity_rebalance: true

instances_distribution:
  spot_allocation_strategy: lowest-price
  on_demand_base_capacity: 0
  on_demand_percentage_above_base_capacity: 0

vpc_security_group_ids: ["sg-050903e04b67a6701"]

instance_refresh_preferences:
  instance_warmup: 300
  min_healthy_percentage: 80

update_default_version: true

block_device_mappings:
- device_name: /dev/sda1
  ebs:
    volume_size: 50
    volume_type: gp2
    encrypted: true
