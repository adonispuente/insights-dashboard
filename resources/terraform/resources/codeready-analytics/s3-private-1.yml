acl: private
server_side_encryption_configuration:
  rule:
    apply_server_side_encryption_by_default:
      sse_algorithm: "AES256"
lifecycle_rules:
  # This rule cleans up the versioned blocks after the specified time period.
  - id: cleanup_noncurrent_versions
    enabled: true
    noncurrent_version_expiration:
      days: 14
    expiration:
      expired_object_delete_marker: true
  # This rule cleans up the daily report records after 30 days.
  - id: daily_report_30_days
    enabled: true
    prefix: snyk-feed/daily-report/
    expiration:
      days: 30
  # This rule cleans up the delta feed records after 30 days.
  - id: delta_feed_30_days
    enabled: true
    prefix: snyk-feed/delta-feed-data/
    expiration:
      days: 30
  # This rule cleans up the ingestion records after 30 days.
  - id: ingestion_data_report_30_days
    enabled: true
    prefix: ingestion-data/epv/
    expiration:
      days: 30

  # This rule cleans up the sentry error records after 30 days.
  - id: sentry_error_report_30_days
    enabled: true
    prefix: sentry-error-data/
    expiration:
      days: 30

  # This rule cleans up the daily stack records after 45 days.
  - id: daily_stack_v2_report_30_days
    enabled: true
    prefix: v2/daily/
    expiration:
      days: 45

  # This rule cleans up the daily stack records v1 after 45 days.
  - id: daily_stack_v1_report_30_days
    enabled: true
    prefix: daily/
    expiration:
      days: 45
