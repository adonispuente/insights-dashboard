---
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: cloudigrade-api
  labels:
    prometheus: app-sre
spec:
  endpoints:
  - interval: 15s
    path: /internal/metrics
    port: cloudigrade-api
  namespaceSelector:
    matchNames:
    - cloudigrade-prod
  selector:
    matchLabels:
      app: cloudigrade
      pod: cloudigrade-api
      template: cloudigrade
