apiVersion: v1
kind: ConfigMap
metadata:
  labels:
    app: turnpike
  name: turnpike-routes
  annotations:
    qontract.recycle: "true"
data:
  backends.yml: |
    - name: turnpike
      route: /api/turnpike
      origin: http://web.turnpike-prod.svc.cluster.local:5000/api/turnpike
      auth:
        saml: "True"
    - name: healthcheck
      route: /_healthcheck
      origin: http://web.turnpike-prod.svc.cluster.local:5000/_healthcheck
    - name: platform-docs
      route: /docs/
      origin: http://platform-docs.platform-docs-prod.svc.cluster.local/
      auth:
        saml: "True"
    - name: rhsm-subscriptions
      route: /app/rhsm-subscriptions/actuator
      origin: http://rhsm-subscriptions-worker-monitoring.rhsm-prod.svc.cluster.local:8080/actuator
      auth:
        saml: "'subscription-watch-admins' in user['Role']"
    - name: rhsm-conduit
      route: /app/rhsm-conduit/actuator
      origin: http://rhsm-conduit.rhsm-prod.svc.cluster.local:8080/actuator
      auth:
        saml: "'subscription-watch-admins' in user['Role']"
