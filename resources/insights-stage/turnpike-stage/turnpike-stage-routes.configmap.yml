apiVersion: v1
kind: ConfigMap
metadata:
  labels:
    app: turnpike
  name: turnpike-routes
  annotations:
    qontract.recycle: "true"
data:
  backends.yml: |
    - name: turnpike
      route: /api/turnpike
      origin: http://web.turnpike-stage.svc.cluster.local:5000/api/turnpike
      auth:
        saml: "True"
    - name: healthcheck
      route: /public/healthcheck/
      origin: http://web.turnpike-stage.svc.cluster.local:5000/_healthcheck/
    - name: platform-docs
      route: /docs/
      origin: http://platform-docs.platform-docs-stage.svc.cluster.local/
      auth:
        saml: "True"
    - name: rhsm-subscriptions
      route: /app/rhsm-subscriptions/actuator
      origin: http://rhsm-subscriptions-worker-monitoring.rhsm-stage.svc.cluster.local:8080/actuator
      auth:
        saml: "'subscription-watch-admins' in user['Role']"
    - name: rhsm-conduit
      route: /app/rhsm-conduit/actuator
      origin: http://rhsm-conduit.rhsm-stage.svc.cluster.local:8080/actuator
      auth:
        saml: "'subscription-watch-admins' in user['Role']"
    - name: policies-engine
      route: /api/policies-engine/
      origin: http://policies-engine.policies-stage.svc.cluster.local:8080/
      auth:
        saml: "True"
    - name: cost-management-masu-download
      route: /api/cost-management/download/
      origin: http://koku-masu.hccm-stage.svc.cluster.local:8080/api/cost-management/v1/download/
      auth:
        saml: "True"
    - name: cost-management-masu-resummary
      route: /api/cost-management/report_data/
      origin: http://koku-masu.hccm-stage.svc.cluster.local:8080/api/cost-management/v1/report_data/
      auth:
        saml: "True"
    - name: cost-management-masu-acct-hierarchy
      route: /api/cost-management/crawl_account_hierarchy/
      origin: http://koku-masu.hccm-stage.svc.cluster.local:8080/api/cost-management/v1/crawl_account_hierarchy/
      auth:
        saml: "True"
