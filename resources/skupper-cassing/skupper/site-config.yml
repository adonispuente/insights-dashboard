# https://skupper.io/docs/declarative/index.html#yaml-reference
apiVersion: v1
kind: ConfigMap
metadata:
  annotations:
    qontract.recycle: "true"
  name: skupper-site
data:
  cluster-local: "false"
  console: "true"
  console-ingress: "route"
  console-authentication: "openshift"
  controller-cpu: "500m"
  controller-memory: "1Gi"
  controller-memory-limit: "1Gi"
  controller-pod-antiaffinity: 'skupper.io/component=controller'
  controller-service-annotations:
    kube-linter.io/ignore-all: "controlled by site-controller"
  edge: '{{ edge|default("false") }}'
  ingress: '{{ ingress|default("loadbalancer") }}'
  name: "{{ resource.namespace.cluster.name }}-{{ resource.namespace.name }}"
  routers: "{{ routers|default(3) }}"
  router-console: "true"
  router-cpu: "500m"
  router-memory: "1Gi"
  router-memory-limit: "1Gi"
  router-pod-antiaffinity: 'skupper.io/component=router'
  router-service-annotations:
    kube-linter.io/ignore-all: "controlled by site-controller"
  service-controller: "true"
  service-sync: "{{ service_sync|default('true') }}"
