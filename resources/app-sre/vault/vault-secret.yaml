apiVersion: v1
kind: Secret
metadata:
  name: vault
  annotations:
    qontract.recycle: "true"
stringData:
  aws.rds.mysql.username: "{{{ vault('app-sre/integrations-output/terraform-resources/{{ resource.namespace.cluster.name }}/{{ resource.namespace.name }}/vault-rds', 'db.user') }}}"
  aws.rds.mysql.database: "{{{ vault('app-sre/integrations-output/terraform-resources/{{ resource.namespace.cluster.name }}/{{ resource.namespace.name }}/vault-rds', 'db.name') }}}"
  aws.rds.mysql.password: "{{{ vault('app-sre/integrations-output/terraform-resources/{{ resource.namespace.cluster.name }}/{{ resource.namespace.name }}/vault-rds', 'db.password') }}}"
  aws.rds.mysql.address: "{{{ vault('app-sre/integrations-output/terraform-resources/{{ resource.namespace.cluster.name }}/{{ resource.namespace.name }}/vault-rds', 'db.host') }}}"

  aws.kms.region: "{{{ vault('app-sre/integrations-output/terraform-resources/{{ resource.namespace.cluster.name }}/{{ resource.namespace.name }}/vault-creds', 'region') }}}"
  aws.kms.access.key: "{{{ vault('app-sre/integrations-output/terraform-resources/{{ resource.namespace.cluster.name }}/{{ resource.namespace.name }}/vault-creds', 'aws_access_key_id') }}}"
  aws.kms.secret.access.key: "{{{ vault('app-sre/integrations-output/terraform-resources/{{ resource.namespace.cluster.name }}/{{ resource.namespace.name }}/vault-creds', 'aws_secret_access_key') }}}"
  aws.kms.key.id: "{{{ vault('app-sre/integrations-output/terraform-resources/{{ resource.namespace.cluster.name }}/{{ resource.namespace.name }}/app-sre-vault-kms', 'key_id') }}}"

  aws.s3.bucket.vault: "{{{ vault('app-sre/integrations-output/terraform-resources/{{ resource.namespace.cluster.name }}/{{ resource.namespace.name }}/app-sre-vault-s3', 'bucket') }}}"
  aws.s3.region.vault: "{{{ vault('app-sre/integrations-output/terraform-resources/{{ resource.namespace.cluster.name }}/{{ resource.namespace.name }}/app-sre-vault-s3', 'aws_region') }}}"
  aws.s3.access.key.vault: "{{{ vault('app-sre/integrations-output/terraform-resources/{{ resource.namespace.cluster.name }}/{{ resource.namespace.name }}/app-sre-vault-s3', 'aws_access_key_id') }}}"
  aws.s3.secret.access.key.vault: "{{{ vault('app-sre/integrations-output/terraform-resources/{{ resource.namespace.cluster.name }}/{{ resource.namespace.name }}/app-sre-vault-s3', 'aws_secret_access_key') }}}"

  aws.s3.bucket.vault.audit: "{{{ vault('app-sre/integrations-output/terraform-resources/{{ resource.namespace.cluster.name }}/{{ resource.namespace.name }}/app-sre-vault-s3-audit', 'bucket') }}}"
  aws.s3.region.vault.audit: "{{{ vault('app-sre/integrations-output/terraform-resources/{{ resource.namespace.cluster.name }}/{{ resource.namespace.name }}/app-sre-vault-s3-audit', 'aws_region') }}}"
  aws.s3.access.key.vault.audit: "{{{ vault('app-sre/integrations-output/terraform-resources/{{ resource.namespace.cluster.name }}/{{ resource.namespace.name }}/app-sre-vault-s3-audit', 'aws_access_key_id') }}}"
  aws.s3.secret.access.key.vault.audit: "{{{ vault('app-sre/integrations-output/terraform-resources/{{ resource.namespace.cluster.name }}/{{ resource.namespace.name }}/app-sre-vault-s3-audit', 'aws_secret_access_key') }}}"

  aws.s3.bucket.vault.backup: "{{{ vault('app-sre/integrations-output/terraform-resources/{{ resource.namespace.cluster.name }}/{{ resource.namespace.name }}/app-sre-vault-s3-backup', 'bucket') }}}"
  aws.s3.region.vault.backup: "{{{ vault('app-sre/integrations-output/terraform-resources/{{ resource.namespace.cluster.name }}/{{ resource.namespace.name }}/app-sre-vault-s3-backup', 'aws_region') }}}"
  aws.s3.access.key.vault.backup: "{{{ vault('app-sre/integrations-output/terraform-resources/{{ resource.namespace.cluster.name }}/{{ resource.namespace.name }}/app-sre-vault-s3-backup', 'aws_access_key_id') }}}"
  aws.s3.secret.access.key.vault.backup: "{{{ vault('app-sre/integrations-output/terraform-resources/{{ resource.namespace.cluster.name }}/{{ resource.namespace.name }}/app-sre-vault-s3-backup', 'aws_secret_access_key') }}}"
