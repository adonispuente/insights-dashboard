# Generic ServiceMonitor template for fleet managers based on https://github.com/bf2fc6cc711aee1a0c2a/ffm-fleet-manager-go-template
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  labels:
    prometheus: app-sre
  name: "{{prefix}}-fleet-manager-envoy-{{environment}}"
spec:
  endpoints:
  - interval: 30s
    path: /metrics
    port: metrics-envoy
    scheme: http
  namespaceSelector:
    matchNames:
    - {{namespace}}
  selector:
    matchLabels:
      app: fleet-manager
      port: metrics-envoy
