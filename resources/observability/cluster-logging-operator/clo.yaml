apiVersion: logging.openshift.io/v1
kind: ClusterLogging
metadata:
  name: instance
  namespace: openshift-logging
spec:
  collection:
    logs:
      fluentd: {}
      type: fluentd
  forwarder:
    fluentd: {}
  managementState: Managed
---
apiVersion: logging.openshift.io/v1
kind: ClusterLogForwarder
metadata:
  name: instance
  namespace: openshift-logging
spec:
  outputs:
  - cloudwatch:
      groupBy: namespaceName
      groupPrefix: {{{resource.namespace.cluster.name}}}
      region: {{{resource.namespace.cluster.region}}}
    name: cloudwatch
    secret:
      name: app-sre-logs-cloudwatch-access
    type: cloudwatch
  pipelines:
  - inputRefs:
    - application
    name: app-logs
    outputRefs:
    - cloudwatch
