kind: ConfigMap
apiVersion: v1
metadata:
  name: skupper-site
data:
  # see skupper/client/site_config_create.go
  cluster-local: "{{ clusterLocal | default('false') }}"
  console: "{{ console | default('true') }}"
  console-authentication: "{{ consoleAuthentication | default("openshift") }}"
  console-ingress: "{{ consoleIngress | default("route") }}"
  controller-cpu-limit: "{{ controllerCpuLimit | default("500m") }}"
  controller-cpu: "{{ controllerCpu | default("200m") }}"
  controller-memory-limit: "{{ controllerMemoryLimit | default("128Mi") }}"
  controller-memory: "{{ controllerMemory | default("128Mi") }}"
  controller-pod-antiaffinity: "{{ controllerPodAntiaffinity | default("skupper.io/component=controller") }}"
  controller-service-annotations: "{{ controllerServiceAnnotations | default("managed-by=qontract-reconcile") }}"
  edge: "{{ edge | default('false') }}"
  ingress: "{{ ingress | default("route") }}"
  name: "{{ resource.namespace.cluster.name }}/{{ resource.namespace.name }}"
  router-console: "{{ routerConsole | default('false') }}"
  router-cpu-limit: "{{ routerCpuLimit | default("500m") }}"
  router-cpu: "{{ routerCpu | default("200m") }}"
  router-logging: "{{ routerLogging | default("info") }}"
  router-memory-limit: "{{ routerMemoryLimit | default("156Mi") }}"
  router-memory: "{{ routerMemory | default("156Mi") }}"
  router-pod-antiaffinity: "{{ routerPodAntiaffinity | default("skupper.io/component=router") }}"
  router-service-annotations: "{{ routerServiceAnnotations | default("managed-by=qontract-reconcile") }}"
  routers: "{{ routers | default('1') }}"
  service-controller: "{{ serviceController | default('true') }}"
  service-sync: "{{ serviceSync | default('true') }}"
  # 1.3.0
  enable-skupper-events: "{{ enableSkupperEvents | default('true') }}"
  flow-collector: "{{ flowCollector | default('true') }}"
  flow-collector-cpu: "{{ flowCollectorCpu | default("100m") }}"
  flow-collector-cpu-limit: "{{ flowCollectorCpuLimit | default("500m") }}"
  flow-collector-memory: "{{ flowCollectorMemory | default("128Mi") }}"
  flow-collector-memory-limit: "{{ flowCollectorMemoryLimit | default("128Mi") }}"
  rest-api: "{{ enableRestApi | default('true') }}"
