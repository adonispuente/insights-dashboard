# Clair v4 - Vulnerability report latency SLO/SLI

## SLI description
We want to measure the response times of Clair when returning Vulnerability Reports.

## SLI rationale
In order for Quay.io to deliver security information to users in the UI, Quay requests a Vulnerability Report for a previously scanned manifest. The latency of this request directly affects the Quay UI and how quickly security information with load per tag.

## Implementation details
We count the percentage of requests that exceed a certain latency over different time windows. We use the metric `clair_http_matcher_api_v1_vulnerability_report_request_duration_seconds_bucket` and the `le` label to specify the bucket.

## SLO rationale
Clair is expected to respond to 90% of indexing requests in under 2.5 seconds, this number is dependent on the type of manifest that has been scanned and what Clair has found in its filesystem but 2.5 seconds gives us a upper bound in which a vast majority of requests should return.
## Alerting
 The following are the list of alerts that are associated with this SLO.

- `ClairVulnerabilityReportGetAPI30mto6hLatencyP95BudgetBurn`
