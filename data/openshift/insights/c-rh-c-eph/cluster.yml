---
$schema: /openshift/cluster-1.yml

labels:
  service: insights

name: c-rh-c-eph
description: Insights CCS cluster for ephemeral environment
consoleUrl: https://console-openshift-console.apps.c-rh-c-eph.8p0c.p1.openshiftapps.com
kibanaUrl: ''
prometheusUrl: ''
alertmanagerUrl: ''
serverUrl: https://api.c-rh-c-eph.8p0c.p1.openshiftapps.com:6443
elbFQDN: elb.apps.c-rh-c-eph.8p0c.p1.openshiftapps.com

observabilityNamespace:
  $ref: /services/observability/namespaces/openshift-customer-monitoring.c-rh-c-eph.yml


automationToken:
  path: insights/creds/kube-configs/c-rh-c-eph
  field: token
  version: 2

clusterAdminAutomationToken:
  path: insights/creds/kube-configs/c-rh-c-eph-cluster-admin
  field: token
  version: 1

# this cluster is a CCS cluster and app-sre does not have ocm access,
# so app-interface cannot create an IDP for it.
#auth:
#  service: github-org-team
#  org: app-sre
#  team: insights-ephemeral-cluster

managedGroups:
- dedicated-readers

internal: false

managedClusterRoles: true

disable:
  integrations:
  - openshift-users
  # - openshift-groups
  # - openshift-resources
  # - openshift-clusterrolebindings
  # - openshift-rolebindings
  # - openshift-routes
  # - openshift-network-policies
  # - openshift-namespaces
  # - openshift-namespace-labels
  # - openshift-resourcequotas
  # - openshift-limitranges
  # - openshift-vault-secrets
  # - openshift-serviceaccount-tokens
  # - terraform-resources
  e2eTests:
  - create-namespace
  - dedicated-admin-rolebindings
  - default-network-policies
  - default-project-labels
