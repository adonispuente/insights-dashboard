---
$schema: /aws/account-1.yml

labels: {}

name: quayio-prod
description: Quay.io Production AWS Account
consoleUrl: https://quayio.signin.aws.amazon.com/console
uid: '206170669542'
resourcesDefaultRegion: us-east-1
supportedDeploymentRegions:
- us-east-1
- us-east-2
- eu-central-1
providerVersion: '3.75.2'

terraformUsername: terraform

accountOwners:
- name: App-SRE Team
  email: sd-app-sre@redhat

automationToken:
  path: app-sre/creds/terraform/quayio-prod/config
  field: all

premiumSupport: true

deleteKeys:
# Support case: 7044456911
- AKIATAAF2YHTILP3KSXA
# APPSRE-4733
- AKIATAAF2YHTEQTXKKUO

deletionApprovals:
- type: aws_iam_policy
  name: quay-prod-logentry-stream
  expiration: '2022-07-30'
- type: aws_iam_policy
  name: quay-prod-logentry-stream-backup
  expiration: '2022-07-30'
- type: aws_iam_policy
  name: quayio-backup
  expiration: '2022-07-30'
- type: aws_iam_policy
  name: quayio-cloudfront-logs
  expiration: '2022-07-30'
- type: aws_iam_policy
  name: quayio-production-s3
  expiration: '2022-07-30'
- type: aws_iam_policy
  name: quayio-production-s3-backup
  expiration: '2022-07-30'
- type: aws_iam_policy
  name: quayio-py3-backup
  expiration: '2022-07-30'
- type: aws_iam_policy
  name: quayio-update-py2-db-backup
  expiration: '2022-07-30'
- type: aws_iam_policy
  name: syslog-cloudwatch-bridge-backup
  expiration: '2022-07-30'
- type: aws_iam_user_policy_attachment
  name: quay-prod-logentry-stream
  expiration: '2022-07-30'
- type: aws_iam_user_policy_attachment
  name: quay-prod-logentry-stream-backup
  expiration: '2022-07-30'
- type: aws_iam_user_policy_attachment
  name: quayio-backup
  expiration: '2022-07-30'
- type: aws_iam_user_policy_attachment
  name: quayio-py3-backup
  expiration: '2022-07-30'
- type: aws_iam_user_policy_attachment
  name: quayio-update-py2-db-backup
  expiration: '2022-07-30'
- type: aws_iam_user_policy_attachment
  name: syslog-cloudwatch-bridge-backup
  expiration: '2022-07-30'
- type: aws_iam_user_policy_attachment
  name: quayio-cloudfront-logs
  expiration: '2022-07-30'
- type: aws_iam_user_policy_attachment
  name: quayio-production-s3
  expiration: '2022-07-30'
- type: aws_iam_user_policy_attachment
  name: quayio-production-s3-backup
  expiration: '2022-07-30'
- type: aws_lambda_event_source_mapping
  name: quay-prod-logentry-stream-backup-lambda
  expiration: '2022-09-10'
- type: aws_lambda_event_source_mapping
  name: quay-prod-logentry-stream-lambda
  expiration: '2022-09-11'
resetPasswords:
- user:
    $ref: /teams/prodsec/users/tguittet.yml
  requestId: tguittetreset
- user:
    $ref: /teams/app-sre/users/jmosco.yml
  requestId: rememberFiveNine

terraformState:
  $ref: /aws/quayio-prod/state.yml
