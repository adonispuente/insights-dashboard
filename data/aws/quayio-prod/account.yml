---
$schema: /aws/account-1.yml

labels: {}

name: quayio-prod
description: Quay.io Production AWS Account
consoleUrl: https://quayio.signin.aws.amazon.com/console
uid: '206170669542'
resourcesDefaultRegion: us-east-1
supportedDeploymentRegions:
- us-east-1
- us-east-2
- eu-central-1
providerVersion: '3.75.2'

terraformUsername: terraform

accountOwners:
- name: App-SRE Team
  email: sd-app-sre@redhat

automationToken:
  path: app-sre/creds/terraform/quayio-prod/config
  field: all

premiumSupport: true

deleteKeys:
# Support case: 7044456911
- AKIATAAF2YHTILP3KSXA
# APPSRE-4733
- AKIATAAF2YHTEQTXKKUO

deletionApprovals:
- type: aws_lb
  name: quayio-production-alb02
  expiration: '2022-02-15'
- type: aws_lb_listener
  name: quayio-production-alb02-forward
  expiration: '2022-02-15'
- type: aws_lb_listener
  name: quayio-production-alb02-redirect
  expiration: '2022-02-15'
- type: aws_lb_listener_rule
  name: quayio-production-alb02-rule-01
  expiration: '2022-02-15'
- type: aws_lb_listener_rule
  name: quayio-production-alb02-rule-02
  expiration: '2022-02-15'
- type: aws_lb_listener_rule
  name: quayio-production-alb02-rule-03
  expiration: '2022-02-15'
- type: aws_lb_listener_rule
  name: quayio-production-alb02-rule-04
  expiration: '2022-02-15'
- type: aws_lb_target_group
  name: quayio-production-alb02-quayio-production-py2
  expiration: '2022-02-15'
- type: aws_lb_target_group
  name: quayio-production-alb02-quayio-production-py3
  expiration: '2022-02-15'
- type: aws_security_group
  name: quayio-production-alb02
  expiration: '2022-02-15'
# python3 migration
- type: aws_lb_listener_rule
  name: quayio-production-alb01-rule-01
  expiration: '2022-02-21'
- type: aws_lb_listener_rule
  name: quayio-production-alb01-rule-02
  expiration: '2022-02-21'
- type: aws_lb_listener_rule
  name: quayio-production-alb01-rule-03
  expiration: '2022-02-21'
- type: aws_lb_listener_rule
  name: quayio-production-alb01-rule-04
  expiration: '2022-02-21'
# py3 migration 
- type: aws_lb_listener_rule
  name: quayio-production-alb02-rule-01
  expiration: '2022-02-21'
- type: aws_lb_listener_rule
  name: quayio-production-alb02-rule-02
  expiration: '2022-02-21'
- type: aws_lb_listener_rule
  name: quayio-production-alb02-rule-03
  expiration: '2022-02-21'
- type: aws_lb_listener_rule
  name: quayio-production-alb02-rule-04
  expiration: '2022-02-21'

- type: aws_iam_policy
  name: quay-prod-logentry-stream
  expiration: '2022-07-30'
- type: aws_iam_policy
  name: quay-prod-logentry-stream-backup
  expiration: '2022-07-30'
- type: aws_iam_policy
  name: quayio-backup
  expiration: '2022-07-30'
- type: aws_iam_policy
  name: quayio-cloudfront-logs
  expiration: '2022-07-30'
- type: aws_iam_policy
  name: quayio-production-s3
  expiration: '2022-07-30'
- type: aws_iam_policy
  name: quayio-production-s3-backup
  expiration: '2022-07-30'
- type: aws_iam_policy
  name: quayio-py3-backup
  expiration: '2022-07-30'
- type: aws_iam_policy
  name: quayio-update-py2-db-backup
  expiration: '2022-07-30'
- type: aws_iam_policy
  name: syslog-cloudwatch-bridge-backup
  expiration: '2022-07-30'
- type: aws_iam_user_policy_attachment
  name: quay-prod-logentry-stream
  expiration: '2022-07-30'
- type: aws_iam_user_policy_attachment
  name: quay-prod-logentry-stream-backup
  expiration: '2022-07-30'
- type: aws_iam_user_policy_attachment
  name: quayio-backup
  expiration: '2022-07-30'
- type: aws_iam_user_policy_attachment
  name: quayio-py3-backup
  expiration: '2022-07-30'
- type: aws_iam_user_policy_attachment
  name: quayio-update-py2-db-backup
  expiration: '2022-07-30'
- type: aws_iam_user_policy_attachment
  name: syslog-cloudwatch-bridge-backup
  expiration: '2022-07-30'
resetPasswords:
- user:
    $ref: /teams/prodsec/users/tguittet.yml
  requestId: tguittetreset

terraformState:
  $ref: /aws/quayio-prod/state.yml
