---
$schema: /aws/account-1.yml

labels: {}

name: app-sre-stage
description: AppSRE stage accounts
consoleUrl: https://927966746891.signin.aws.amazon.com/console
uid: '927966746891'
resourcesDefaultRegion: us-east-1
supportedDeploymentRegions:
- us-east-1
- us-east-2
- us-west-1
providerVersion: '3.76.1'

terraformState:
  $ref: /aws/app-sre-stage/state.yml

terraformUsername: terraform

accountOwners:
- name: App-SRE Team
  email: sd-app-sre+app-sre-stage@redhat.com

automationToken:
  path: app-sre/creds/terraform/app-sre-stage/config
  field: all

premiumSupport: true

enableDeletion: true

resetPasswords:
- user:
    $ref: /teams/app-sre/users/jboll.yml
  requestId: a
- user:
    $ref: /teams/app-sre/users/jmosco.yml
  requestId: rememberFiveNine
- user:
    $ref: /teams/app-sre/users/jchevret.yml
  requestId: reset-mfa
deletionApprovals:
- type: aws_iam_policy
  name: ai-ccx-integration-integration
  expiration: '2022-07-30'
- type: aws_iam_policy
  name: ai-ccx-integration-stage
  expiration: '2022-07-30'
- type: aws_iam_policy
  name: i1-devshift-org
  expiration: '2022-07-30'
- type: aws_iam_policy
  name: i3-devshift-org
  expiration: '2022-07-30'
- type: aws_iam_policy
  name: managed-connectors-staging
  expiration: '2022-07-30'
- type: aws_iam_policy
  name: rh-oidc-integration
  expiration: '2022-07-30'
- type: aws_iam_policy
  name: rh-oidc-staging
  expiration: '2022-07-30'
- type: aws_iam_policy
  name: s1-devshift-org
  expiration: '2022-07-30'
- type: aws_iam_policy
  name: s3-devshift-org
  expiration: '2022-07-30'
- type: aws_iam_user_policy_attachment
  name: i1-devshift-org
  expiration: '2022-07-30'
- type: aws_iam_user_policy_attachment
  name: i3-devshift-org
  expiration: '2022-07-30'
- type: aws_iam_user_policy_attachment
  name: managed-connectors-staging
  expiration: '2022-07-30'
- type: aws_iam_user_policy_attachment
  name: s1-devshift-org
  expiration: '2022-07-30'
- type: aws_iam_user_policy_attachment
  name: s3-devshift-org
  expiration: '2022-07-30'

#APPSRE-4557
- type: aws_s3_bucket
  name: assisted-installer-integration-v4-new
  expiration: '2022-10-01'
- type: aws_iam_user_policy
  name: assisted-installer-integration-v4-new
  expiration: '2022-10-01'
- type: aws_iam_user
  name: assisted-installer-integration-v4-new
  expiration: '2022-10-01'
- type: aws_iam_access_key
  name: assisted-installer-integration-v4-new
  expiration: '2022-10-01'
- type: aws_iam_policy
  name: assisted-installer-integration-v4-new
  expiration: '2022-10-01'
- type: aws_iam_user_policy_attachment
  name: assisted-installer-integration-v4-new
  expiration: '2022-10-01'
- type: aws_s3_bucket_policy
  name: assisted-installer-integration-v4-new
  expiration: '2022-10-01'
- type: aws_db_instance
  name: dev-jboll-rds
  expiration: '2022-10-21'

- type: aws_iam_access_key
  name: hypershift-hshifti01ue1-private-link
  expiration: '2022-11-08'
- type: aws_iam_access_key
  name: hypershift-oidc-int
  expiration: '2022-11-08'
- type: aws_iam_access_key
  name: hypershift-operator-hshifti01ue1-private-link
  expiration: '2022-11-08'
- type: aws_iam_policy
  name: hypershift-hshifti01ue1-private-link
  expiration: '2022-11-08'
- type: aws_iam_policy
  name: hypershift-oidc-int
  expiration: '2022-11-08'
- type: aws_iam_policy
  name: hypershift-operator-hshifti01ue1-private-link
  expiration: '2022-11-08'
- type: aws_iam_user
  name: hypershift-hshifti01ue1-private-link
  expiration: '2022-11-08'
- type: aws_iam_user
  name: hypershift-oidc-int
  expiration: '2022-11-08'
- type: aws_iam_user
  name: hypershift-operator-hshifti01ue1-private-link
  expiration: '2022-11-08'
- type: aws_iam_user_policy
  name: hypershift-hshifti01ue1-private-link
  expiration: '2022-11-08'
- type: aws_iam_user_policy
  name: hypershift-oidc-int
  expiration: '2022-11-08'
- type: aws_iam_user_policy
  name: hypershift-operator-hshifti01ue1-private-link
  expiration: '2022-11-08'
- type: aws_iam_user_policy_attachment
  name: hypershift-hshifti01ue1-private-link
  expiration: '2022-11-08'
- type: aws_iam_user_policy_attachment
  name: hypershift-oidc-int
  expiration: '2022-11-08'
- type: aws_iam_user_policy_attachment
  name: hypershift-operator-hshifti01ue1-private-link
  expiration: '2022-11-08'
- type: aws_s3_bucket
  name: hypershift-oidc-int
  expiration: '2022-11-08'
- type: aws_db_instance
  name: dev-steahan-us-east-2
  expiration: '2022-12-03'
- type: aws_msk_cluster
  name: assisted-installer-stage
  expiration: '2023-06-07'

# APPSRE-6969 moving and renaming IAM service account
- type: aws_iam_access_key
  name: hypershift-cert-manager-route53
  expiration: '2023-02-08'
- type: aws_iam_policy
  name: hypershift-cert-manager-route53
  expiration: '2023-02-08'
- type: aws_iam_user
  name: hypershift-cert-manager-route53
  expiration: '2023-02-08'
- type: aws_iam_user_policy
  name: hypershift-cert-manager-route53
  expiration: '2023-02-08'
- type: aws_iam_user_policy_attachment
  name: hypershift-cert-manager-route53
  expiration: '2023-02-08'

# Related to task: APPSRE-7647
- type: aws_db_instance
  name: acs-fleet-manager-readonly-replica-stage
  expiration: '2023-05-31'
- type: aws_db_instance
  name: cna-integration-readonly
  expiration: '2023-05-31'
- type: aws_db_instance
  name: cna-stage-readonly
  expiration: '2023-05-31'

# decommisioning rhoc stage vault
- type: aws_iam_access_key
  name: managed-connectors-staging
  expiration: '2023-05-31'
- type: aws_iam_policy
  name: managed-connectors-staging
  expiration: '2023-05-31'
- type: aws_iam_user
  name: managed-connectors-staging
  expiration: '2023-05-31'
- type: aws_iam_user_policy
  name: managed-connectors-staging
  expiration: '2023-05-31'
- type: aws_iam_user_policy_attachment
  name: managed-connectors-staging
  expiration: '2023-05-31'
