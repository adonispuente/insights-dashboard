---
$schema: /dependencies/dns-zone-1.yml

labels: {}

name: q1w2.quay.rhcloud.com
description: q1w2.quay.rhcloud.com

account:
  $ref: /aws/app-sre/account.yml

unmanaged_record_names:
- '^_acme-challenge.*'

records:
### Quay instances/clusters
# R/W ocm quay
- { name: ocmrw1, type: CNAME, _target_cluster: { $ref: /openshift/ocmquayrwp01ue1/cluster.yml } }
# R/O ocm quay
- { name: ocmro1, type: CNAME, _target_cluster: { $ref: /openshift/ocmquayrop01ue1/cluster.yml } }
- { name: ocmro2, type: CNAME, _target_cluster: { $ref: /openshift/ocmquayrop01uw1/cluster.yml } }
- { name: ocmro3, type: CNAME, _target_cluster: { $ref: /openshift/ocmquayrop01ew1/cluster.yml } }

### AWS ACM certificate validation records
- { name: _2dd0cab29e872691bba7e5d3f82baf68, type: CNAME, records: [_347bd5169a5e97889bb2bd2347f07427.bbfvkzsszw.acm-validations.aws.] }

### Cloudfront cdn
- { name: cdn01, type: CNAME, records: [d3dwl8hlb9usug.cloudfront.net] }
- { name: cdn02, type: CNAME, records: [d143q1oyu145nx.cloudfront.net] }

### OCM Quay endpoints
- name: push
  type: CNAME
  ttl: 5
  weighted_routing_policy:
    weight: 100
  set_identifier: push-ocmrw1-quay-rhcloud-com
  records: 
  - a380efa520e2f4b2ca959e2b15332ec0-1875867648.us-east-1.elb.amazonaws.com

- name: pull
  type: CNAME
  ttl: 5
  weighted_routing_policy:
    weight: 100
  set_identifier: pull-ocmro1-quay-rhcloud-com
  records: 
  - ocmro1.q1w2.quay.rhcloud.com

- name: pull
  type: CNAME
  ttl: 5
  weighted_routing_policy:
    weight: 100
  set_identifier: pull-ocmro2-quay-rhcloud-com
  records: 
  - ocmro2.q1w2.quay.rhcloud.com

- name: pull
  type: CNAME
  ttl: 5
  weighted_routing_policy:
    weight: 100
  set_identifier: pull-ocmro3-quay-rhcloud-com
  records: 
  - ocmro3.q1w2.quay.rhcloud.com
