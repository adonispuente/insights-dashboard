---
$schema: /access/role-1.yml

labels: {}
name: ocm-ui-dev

permissions:
  - $ref: /dependencies/quay/permissions/quay-membership-app-sre-uhc.yml
  - $ref: /services/observability/permissions/observability-access.yml
  - $ref: /dependencies/unleash/permissions/ocm-integration-read-only.yml
  - $ref: /dependencies/unleash/permissions/ocm-stage-read-only.yml
  - $ref: /dependencies/unleash/permissions/ocm-read-only.yml
  - $ref: /dependencies/ci-int/permissions/ci-int-read-only.yml
  - $ref: /dependencies/ci-int/permissions/ci-int-job-control.yml

glitchtip_roles:
  - organization:
      $ref: /dependencies/glitchtip/organizations/ocm.yml
    role: admin

glitchtip_teams:
  - $ref: /dependencies/glitchtip/teams/ocm.yml

self_service:
  - change_type:
      $ref: /app-interface/changetype/role-manager.yml
    datafiles:
    - $ref: /teams/ocm/roles/ui-dev.yml
  - change_type:
      $ref: /app-interface/changetype/resource-owner.yml
    resources:
      - /jenkins/ocm-ui/job-templates.yaml
      - /jenkins/ocm-ui/secrets.yaml
  # TODO: once we split our own app.yml, we could also self_service:
  #   - data/services/ocm/ui/cicd/job-templates.yaml
  #   - data/services/ocm/ui/cicd/jobs.yaml
  #   - data/services/ocm/ui/cicd/secrets.yaml
  # but these change rarely, mostly we'll touch above resources.
