---
$schema: /dependencies/jenkins-config-1.yml

labels:
  service: osde2e

name: ci-int-osde2e-jobs

description: ''

instance:
  $ref: /dependencies/ci-int/ci-int.yml

type: jobs

config:
- project:
    name: osde2e-metrics-sync
    label: osde2e
    node: osde2e
    gh_org: openshift
    gh_repo: osde2e
    jobs:
    # ---- run the sync metrics script
    - 'osde2e-metrics-sync':
        display_name: "osde2e datahub metrics sync"
        cron_expression: 'H/15 * * * *'
        ci_cmd: './scripts/metrics-sync.sh'
- project:
    name: osde2e-gate-report
    label: osde2e
    node: osde2e
    gh_org: openshift
    gh_repo: osde2e
    jobs:
    # ---- run the gate report script
    - 'osde2e-gate-report-{environment}-{version}':
        environment: int
        version: 4.4.0-0.nightly
        display_name: "osde2e gate report (4.4 integration)"
        cron_expression: 'H/30 * * * *'
        ci_cmd: './scripts/gate-report.sh {environment} {version}'
