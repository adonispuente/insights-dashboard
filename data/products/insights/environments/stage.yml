---
$schema: /app-sre/environment-1.yml


labels:
  service: insights
  type: stage

name: insights-stage

description: |
  The stage environment for Insights

product:
  $ref: /products/insights/product.yml

parameters:
  KAFKA_BOOTSTRAP_HOST: platform-mq-kafka-bootstrap.platform-mq-stage.svc.cluster.local
  KAFKA_BOOTSTRAP_PORT: '9092'
  HOST_INVENTORY_HOST: host-inventory-service.host-inventory-stage.svc.cluster.local
  HOST_INVENTORY_PORT: 8000
  RBAC_HOST: rbac.rbac-stage.svc.cluster.local
  PROMETHEUS_PUSHGATEWAY: prometheus-push.insights-push-stage.svc.cluster.local:9091
  SOURCES_HOST: sources-api-svc.sources-stage.svc.cluster.local
  SOURCES_PORT: '8000'
  BACKOFFICE_CLIENT_ENV: stage
  BACKOFFICE_HOST: backoffice-proxy-insights-services.ext.us-east.aws.preprod.paas.redhat.com
  PATH_PREFIX: api
  CATALOG_HOST: catalog-api.catalog-stage.svc.cluster.local
  CATALOG_PORT: '8000'
  APPROVAL_HOST: approval-api.approval-stage.svc.cluster.local
  APPROVAL_PORT: '8000'
  APPROVAL_PROCESS_HOST: approval-process-pam.approval-process-stage.svc.cluster.local
  APPROVAL_PROCESS_PORT: '8000'
  CATALOG_INVENTORY_HOST: catalog-inventory-api.catalog-inventory-stage.svc.cluster.local
  CATALOG_INVENTORY_PORT: '8000'
  PLATFORM_HOSTNAME: cloud.stage.redhat.com
  UPLOAD_SERVICE_HOST: upload-service.ingress-stage.svc
  RECEPTOR_CONTROLLER_HOST: receptor-controller.receptor-stage.svc
  HSP_HOST: historical-system-profiles-backend.historical-system-profiles-stage.svc.cluster.local
  ADVISOR_HOST: insights-advisor-api.advisor-stage.svc.cluster.local
  COMPLIANCE_HOST: compliance-backend.compliance-stage.svc.cluster.local
  CONTENT_SERVER_HOST: content-server.advisor-stage.svc.cluster.local
  PATCHMAN_HOST: patchman-engine-manager.patchman-engine-stage.svc.cluster.local
  VULNERABILITIES_HOST: vulnerability-engine-manager.vulnerability-engine-stage.svc.cluster.local
  CLOUD_CONNECTOR_HOST: cloud-connector.cloud-connector-stage.svc.cluster.local
  CLOUD_CONNECTOR_PORT: '8080'
  PLAYBOOK_DISPATCHER_HOST: playbook-dispatcher-api.playbook-dispatcher-stage.svc.cluster.local
  PLAYBOOK_DISPATCHER_PORT: '8000'
  XJOIN_SEARCH_HOST: xjoin-search.xjoin-stage.svc.cluster.local
  XJOIN_SEARCH_PORT: '4000'
  UNLEASH_URL: https://insights-stage.unleash.devshift.net/api
  UNLEASH_SECRET_NAME: insights-stage-unleash-token
  ENV_NAME: stage
