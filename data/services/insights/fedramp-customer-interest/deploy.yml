---
$schema: /app-sre/saas-file-2.yml
labels:
  service: fedramp-customer-interest
  platform: insights
name: fedramp-customer-interest
description: fedramp-customer-interest app on the Insights Platform
app:
  $ref: /services/insights/fedramp-customer-interest/app.yml
pipelinesProvider:
  $ref: /services/insights/pipelines/tekton.crc-pipelines.appsrep05ue1.yaml
slack:
  workspace:
    $ref: /dependencies/slack/redhat-internal.yml
  channel: fedramp-customer-interest-cicd
managedResourceTypes:
  - Deployment
  - Service
  - ServiceAccount
validateTargetsInApp: true
resourceTemplates:
  - name: fedramp-customer-interest
    url: https://gitlab.cee.redhat.com/service/fedramp-customer-interest-service
    path: /deploy/openshift/template.yaml
    provider: openshift-template
    parameters:
      REPLICAS: 3
    targets:
      - namespace:
          $ref: /services/insights/fedramp-customer-interest/namespaces/stage.yml
        ref: main
        parameters:
          ENV_NAME: stage
      - namespace:
          $ref: /services/insights/fedramp-customer-interest/namespaces/production.yml
        ref: 32aa3dfbc04f3be61eda1db6f7d71677e9d8ce29
        parameters:
          ENV_NAME: prod
imagePatterns:
  - quay.io/cloudservices/fedramp-customer-interest
authentication:
  image:
    path: insights/quay/cloudservices-push
    field: all
    version: 3
