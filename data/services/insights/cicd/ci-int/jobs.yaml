---
$schema: /dependencies/jenkins-config-1.yml

labels:
  service: insights

name: insights-cicd-int-jobs

description: ''

app:
  $ref: /services/insights/cicd/app.yml

instance:
  $ref: /dependencies/ci-int/ci-int.yml

type: jobs

config:
- project:
    label: insights
    node: insights
    name: 'insights-cicd-int'
    jobs:
    - 'insights-saas-templates-sync':
        display_name: 'insights-saas-templates-sync'
        cron_expression: 'H/5 * * * *'
    - 'prune-deployed-events-db':
        display_name: 'prune-deployed-events-db'
        cron_expression: '0 0 * * *'
    - 'run-iqe':
        display_name: 'run-iqe'
        cron_expression: "H * * * *"
        disabled: true
    - 'insights-deploy-notifier':
        display_name: 'insights-deploy-notifier'
        # list saas jobs that should trigger a deploy notification below...
        upstream_saas_jobs:
          - openshift-saas-deploy-advisor-insights-production
          - openshift-saas-deploy-advisor-insights-stage
          - openshift-saas-deploy-automation-hub-insights-production
          - openshift-saas-deploy-automation-hub-insights-stage
          - openshift-saas-deploy-catalog-insights-production
          - openshift-saas-deploy-catalog-insights-stage
          - openshift-saas-deploy-compliance-insights-production
          - openshift-saas-deploy-compliance-insights-stage
          - openshift-saas-deploy-drift-insights-production
          - openshift-saas-deploy-drift-insights-stage
          - openshift-saas-deploy-engine-insights-ci
          - openshift-saas-deploy-engine-insights-perf
          - openshift-saas-deploy-engine-insights-production
          - openshift-saas-deploy-engine-insights-qa
          - openshift-saas-deploy-engine-insights-stage
          - openshift-saas-deploy-entitlements-insights-production
          - openshift-saas-deploy-entitlements-insights-stage
          - openshift-saas-deploy-gateway-insights-production
          - openshift-saas-deploy-gateway-insights-stage
          - openshift-saas-deploy-host-inventory-insights-perf
          - openshift-saas-deploy-host-inventory-insights-production
          - openshift-saas-deploy-host-inventory-insights-stage
          - openshift-saas-deploy-ingress-insights-production
          - openshift-saas-deploy-ingress-insights-stage
          - openshift-saas-deploy-insights-prometheus-App-SRE-production
          - openshift-saas-deploy-insights-prometheus-App-SRE-stage
          - openshift-saas-deploy-insights-prometheus-insights-perf
          - openshift-saas-deploy-insights-prometheus-insights-production
          - openshift-saas-deploy-insights-prometheus-insights-stage
          - openshift-saas-deploy-insights-third-party-operators-insights-stage
          - openshift-saas-deploy-module-update-router-insights-production
          - openshift-saas-deploy-module-update-router-insights-stage
          - openshift-saas-deploy-patchman-insights-perf
          - openshift-saas-deploy-patchman-insights-production
          - openshift-saas-deploy-patchman-insights-stage
          - openshift-saas-deploy-rbac-insights-perf
          - openshift-saas-deploy-rbac-insights-production
          - openshift-saas-deploy-rbac-insights-stage
          - openshift-saas-deploy-remediations-insights-perf
          - openshift-saas-deploy-remediations-insights-production
          - openshift-saas-deploy-remediations-insights-stage
          - openshift-saas-deploy-remediations-redis-insights-perf
          - openshift-saas-deploy-remediations-redis-insights-production
          - openshift-saas-deploy-remediations-redis-insights-stage
          - openshift-saas-deploy-sources-insights-production
          - openshift-saas-deploy-sources-insights-stage
          - openshift-saas-deploy-strimzi-insights-perf
          - openshift-saas-deploy-strimzi-insights-production
          - openshift-saas-deploy-strimzi-insights-stage
          - openshift-saas-deploy-subscriptions-insights-production
          - openshift-saas-deploy-subscriptions-insights-stage
          - openshift-saas-deploy-system-baseline-insights-production
          - openshift-saas-deploy-system-baseline-insights-stage
          - openshift-saas-deploy-tower-analytics-insights-production
          - openshift-saas-deploy-tower-analytics-insights-stage
          - openshift-saas-deploy-uhc-auth-proxy-insights-production
          - openshift-saas-deploy-uhc-auth-proxy-insights-stage
          - openshift-saas-deploy-vulnerability-insights-perf
          - openshift-saas-deploy-vulnerability-insights-production
          - openshift-saas-deploy-vulnerability-insights-stage
    - "insights-deploy-ephemeral":
        display_name: Apps ephemeral-deployment
        app_name: ''
        include_ui: true
        component_name: ''
        image: "quay.io/cloudservices/"
        git_commit: main
        image_tag: latest
        components_w_resources: all
        additional_arg: ''
        components: ''
        deploy_timeout: 300
