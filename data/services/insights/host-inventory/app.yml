---
$schema: /app-sre/app-1.yml

labels:
  service: host-inventory
  platform: insights
  type: core

name: host-inventory

description: |
  Host Based Inventory (HBI) is the “source of truth” for system, or host, information across the entire platform.
  HBI is the primary target for all incoming data from the various reporters, like insights-client, RHSM, Satellite, etc,
  and as such it exposes Ingress APIs for creating, updating and deleting host information.
  Conversely, HBI is the primary source of host information for all Applications built on the platform,
  and as such it also exposes Egress APIs for retrieving host information.

  There are multiple types of APIs -
  * REST API for synchronous operations
  * Message Queue (MQ) API for asynchronous notifications of data and state changes
  * Ingress API - asynchronous data ingestion interface

architectureDocument: https://consoledot.pages.redhat.com/docs/dev/services/inventory.html
sopsUrl: https://gitlab.cee.redhat.com/service/app-interface/-/tree/master/docs/console.redhat.com/app-sops/host-inventory
grafanaUrls:
- title: Inventory
  url: https://grafana.app-sre.devshift.net/d/EiIhtC0Wa/inventory?orgId=1&refresh=5m
onboardingStatus: OnBoarded

parentApp:
  $ref: /services/insights/app.yml

serviceOwners:
- name: Frank Jansen
  email: fjansen@redhat.com
- name: Asa Price
  email: aprice@redhat.com

serviceNotifications:
- name: Frantisek Stavela
  email: fstavela@redhat.com
- name: Ronny Pfannschmid
  email: rpfannsc@redhat.com
- name: Justin Sun
  email: jusun@redhat.com

dependencies:
- $ref: /dependencies/github/service.yml
- $ref: /dependencies/quay/service.yml
- $ref: /dependencies/openshift/service.yml
- $ref: /dependencies/aws/service.yml
- $ref: /dependencies/ci-int/service.yml
- $ref: /dependencies/ci-ext/service.yml

quayRepos:
- org:
    $ref: /dependencies/quay/cloudservices.yml
  items:
  - name: insights-inventory
    public: false
    description: Repo for the host-inventory Insights app
  - name: insights-inventory-frontend
    public: true
    description: Repo for the host-inventory Insights app frontend

codeComponents:
- name: insights-host-inventory
  resource: upstream
  url: https://github.com/RedHatInsights/insights-host-inventory
- name: insights-inventory-frontend
  resource: upstream
  url: https://github.com/RedHatInsights/insights-inventory-frontend

escalationPolicy:
  $ref: /teams/insights/escalation-policies/crc-host-inventory-escalations.yml
