---
$schema: /app-sre/pipelines-provider-1.yml

labels: {}

name: tekton-crc-poc-pipelines-appsrep05ue1
description: tekton provider in the crc-poc-pipelines namespace in the appsrep05ue1 cluster

provider: tekton
namespace:
  $ref: /services/insights/namespaces/crc-poc-pipelines.appsrep05ue1.yaml

retention:
  days: 7 # maximum number of days to retain deployments
  minimum: 100 # minimum number of deployments to retain

taskTemplates:
- name: openshift-saas-deploy
  type: onePerSaasFile
  path: /tekton/openshift-saas-deploy.task.yaml
  variables:
    qontract_reconcile_image_tag: latest
- name: push-gateway-openshift-saas-deploy-task-status-metric
  type: onePerNamespace
  path: /tekton/push-gateway-task-status-metric.task.yaml
  variables:
    ubi8_ubi_minimal_image_tag: 8.4-7
- name: push-http-splunk-tekton-pipeline-metadata
  type: onePerNamespace
  path: /tekton/push-http-splunk-tekton-pipeline-metadata.task.yaml
  variables:
    ubi8_ubi_minimal_image_tag: 8.4-7

pipelineTemplates:
  openshiftSaasDeploy:
    name: openshift-saas-deploy
    type: onePerSaasFile
    path: /tekton/openshift-saas-deploy.pipeline.yaml
