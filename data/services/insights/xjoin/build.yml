---
$schema: /dependencies/jenkins-config-1.yml

labels:
  service: xjoin
  platform: insights

name: ci-int-insights-xjoin-kafka-connect-jobs

description: Build job for xjoin-kafka-connect images

app:
  $ref: /services/insights/xjoin/app.yml

instance:
  $ref: /dependencies/ci-int/ci-int.yml

type: jobs

config:
- project:
    name: xjoin-kafka-connect-strimzi
    label: insights
    node: insights
    gh_org: RedHatInsights
    gh_repo: xjoin-kafka-connect
    quay_org: cloudservices
    jobs:
    - gh-build-master:
        display_name: xjoin-kafka-connect build-master

- project:
    name: cyndi-operator
    label: insights
    node: insights
    gh_org: RedHatInsights
    gh_repo: cyndi-operator
    quay_org: cloudservices
    jobs:
    - gh-build-master:
        display_name: cyndi-operator build-master
    - gh-build-catalog-master-with-upstream:
        display_name: cyndi-operator build-master-catalog-index
        upstream: RedHatInsights-cyndi-operator-gh-build-master
        bundle_image: quay.io/cloudservices/cyndi-operator-bundle
        catalog_image: quay.io/cloudservices/cyndi-operator-index

- project:
    name: xjoin-operator
    label: insights
    node: insights
    gh_org: RedHatInsights
    gh_repo: xjoin-operator
    quay_org: cloudservices
    jobs:
    - gh-build-master:
        display_name: xjoin-operator build-master
    - gh-build-catalog-master-with-upstream:
        display_name: xjoin-operator build-master-catalog-index
        upstream: RedHatInsights-xjoin-operator-gh-build-master
        bundle_image: quay.io/cloudservices/xjoin-operator-bundle
        catalog_image: quay.io/cloudservices/xjoin-operator-index

- project:
    name: xjoin-search
    label: insights
    node: insights
    gh_org: RedHatInsights
    gh_repo: xjoin-search
    quay_org: cloudservices
    jobs:
    - insights-gh-build-master:
        display_name: xjoin-search build-master
