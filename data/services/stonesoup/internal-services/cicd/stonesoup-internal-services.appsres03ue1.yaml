---
$schema: /app-sre/saas-file-2.yml

labels:
  service: stonesoup-internal-services
name: stonesoup-int-srvc-staging
description: 'SaaS tracking file for stonesoup-internal-services'

app:
  $ref: /services/stonesoup/app.yml

pipelinesProvider:
  $ref: /services/stonesoup/internal-services/pipelines/tekton-stonesoup-internal-services.appsres03ue1.yaml

deployResources:
  requests:
    cpu: 900m
    memory: 2500Mi
  limits:
    cpu: 1200m
    memory: 2500Mi

managedResourceTypes:
  - Pipeline
  - Task
  - ServiceAccount
  - CustomResourceDefinition
  - Deployment
  - RoleBinding.rbac.authorization.k8s.io
  - Role.rbac.authorization.k8s.io
  - ClusterRoleBinding.rbac.authorization.k8s.io
  - ClusterRole.rbac.authorization.k8s.io
  - Service
  - ConfigMap
  - NetworkPolicy

clusterAdmin: true

imagePatterns:
  - quay.io/redhat-appstudio/internal-services
  - quay.io/openshift/origin-kube-rbac-proxy

resourceTemplates:
  - name: stonesoup-internal-services-catalog
    url: https://github.com/hacbs-release/app-interface-deployments
    path: /internal-services/catalog
    provider: directory
    targets:
      - namespace:
          $ref: /services/stonesoup/internal-services/namespaces/stonesoup-int-srvc.appsres03ue1.yaml
        ref: main
  - name: stonesoup-internal-services-crds
    url: https://github.com/hacbs-release/app-interface-deployments
    path: /internal-services/crds
    provider: directory
    targets:
      - namespace:
          $ref: /services/stonesoup/internal-services/namespaces/stonesoup-int-srvc.appsres03ue1.yaml
        ref: main
  - name: stonesoup-internal-services-manager
    url: https://github.com/hacbs-release/app-interface-deployments
    path: /internal-services/manager
    provider: directory
    targets:
      - namespace:
          $ref: /services/stonesoup/internal-services/namespaces/stonesoup-int-srvc.appsres03ue1.yaml
        ref: main
  - name: stonesoup-internal-services-networkpolicy-config
    url: https://github.com/hacbs-release/app-interface-deployments
    path: /internal-services/config/networkpolicy/staging
    provider: directory
    targets:
      - namespace:
          $ref: /services/stonesoup/internal-services/namespaces/stonesoup-int-srvc.appsres03ue1.yaml
        ref: main
  - name: stonesoup-internal-services-rbac
    url: https://github.com/hacbs-release/app-interface-deployments
    path: /internal-services/rbac
    provider: directory
    targets:
      - namespace:
          $ref: /services/stonesoup/internal-services/namespaces/stonesoup-int-srvc.appsres03ue1.yaml
        ref: main
  - name: hacbs-internal-services-resources-signing-pipeline-template
    url: https://gitlab.cee.redhat.com/signing/hacbs-signing-pipeline
    path: /ansible/roles/hacbs-signing-pipeline/templates/openshift/templates/signing-pipeline-stage-template.yml
    targets:
      - namespace:
          $ref: /services/stonesoup/internal-services/namespaces/stonesoup-int-srvc.appsres03ue1.yaml
        ref: main
  - name: stonesoup-internal-services-signing-config
    url: https://github.com/hacbs-release/app-interface-deployments
    path: /internal-services/config/signing/staging
    provider: directory
    targets:
      - namespace:
          $ref: /services/stonesoup/internal-services/namespaces/stonesoup-int-srvc.appsres03ue1.yaml
        ref: main
