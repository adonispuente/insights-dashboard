---
$schema: /openshift/namespace-1.yml

labels:
  service: stonesoup

name: stonesoup-infra-production

description: Production namespace for StoneSoup infra

cluster:
  $ref: /openshift/stonesoupp01ue1/cluster.yml

app:
  $ref: /services/stonesoup/app.yml

environment:
  $ref: /products/stonesoup/environments/production.yml

managedExternalResources: true

externalResources:
- provider: aws
  provisioner:
    $ref: /aws/stonesoup-prod/account.yml
  resources:
  - provider: secrets-manager-service-account
    identifier: stonesoup-spi-secrets-manager
    secrets_prefix: spi-prod
    output_resource_name: spi-secrets-manager
  - provider: secrets-manager-service-account
    identifier: stonesoup-remotesecret-secrets-manager
    secrets_prefix: remotesecret-prod
    output_resource_name: remotesecret-secrets-manager
  - provider: s3
    identifier: rh-artifacts-bucket
    defaults: /terraform/resources/s3-all-expires-7-days.yml
    output_resource_name: rh-artifacts-bucket
