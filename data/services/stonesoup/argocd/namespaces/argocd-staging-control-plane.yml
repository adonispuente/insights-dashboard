---
$schema: /openshift/namespace-1.yml

labels:
  service: stonesoup

name: argocd-staging

description: Namespace for ArgoCD resources deployed by the Gitops Operator

cluster:
  $ref: /openshift/stonesoups01ue1/cluster.yml

app:
  $ref: /services/stonesoup/argocd/app.yml

environment:
  $ref: /products/stonesoup/environments/stage.yml

managedResourceTypes:
- ArgoCD
- Application
- Secret

managedResourceNames:
- resource: ArgoCD
  resourceNames:
  - argocd

managedRoles: true

openshiftResources:
- provider: resource
  path: /stonesoup/argocd-control-plane/argocd.yml
- provider: resource-template
  type: jinja2
  path: /stonesoup/argocd-control-plane/app-of-appsets.yaml.j2
  variables:
    path: argo-cd-apps/overlays/staging
- provider: resource-template
  type: jinja2
  path: /stonesoup/argocd-control-plane/staging/stone-stg-host.yaml.j2
- provider: resource-template
  type: jinja2
  path: /stonesoup/argocd-control-plane/staging/stone-stg-m01.yaml.j2
- provider: resource-template
  type: jinja2
  path: /stonesoup/argocd-control-plane/staging/stone-stg-rh01.yaml.j2
