---
$schema: /app-sre/saas-file-2.yml
labels:
  service: exhort
  platform: trusted-content
name: exhort
description: exhort app on the trusted-content platform
app:
  $ref: /services/trusted-content/exhort/app.yml
pipelinesProvider:
  $ref: /services/trusted-content/pipelines/tekton.exhort-pipelines.appsrep05ue1.yml
deployResources:
  requests:
    cpu: 300m
    memory: 100Mi
  limits:
    cpu: "1"
    memory: 1000Mi
slack:
  workspace:
    $ref: /dependencies/slack/redhat-internal.yml
  channel: tc-exhort-cicd
managedResourceTypes:
- Deployment
- Service
- ServiceAccount
validateTargetsInApp: true
resourceTemplates:
- name: exhort
  url: https://github.com/RHEcosystemAppEng/exhort
  path: /deploy/openshift/template.yaml
  provider: openshift-template
  parameters:
    IMAGE: quay.io/redhat-user-workloads/trusted-content-tenant/exhort-alpha/exhort
    REPLICAS: 3
  hash_length: 40
  targets:
  - namespace:
      $ref: /services/trusted-content/exhort/namespaces/stage.yml
    ref: stable
    image:
      org:
        $ref: /dependencies/quay/redhat-user-workloads.yml
      name: trusted-content-tenant/exhort-alpha/exhort
    parameters:
      ENV_NAME: stage
imagePatterns:
  - quay.io/ecosystem-appeng/exhort
  - quay.io/redhat-user-workloads/trusted-content-tenant/exhort-alpha/exhort
