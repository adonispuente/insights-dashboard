---
$schema: /dependencies/jenkins-config-1.yml

labels:
  service: mt-sre

name: ci-int-mt-sre-jobs

description: ''

app:
  $ref: /services/addons/app.yml

instance:
  $ref: /dependencies/ci-int/ci-int.yml

type: jobs

config:
- project:
    name: managed-tenants-slos
    label: addons
    node: app-sre
    gl_group: service
    gl_project: managed-tenants-slos
    quay_org: osd-addons
    jobs:
    - 'gl-pr-check-managed-tenants':
        display_name: managed-tenants-slos pr check
        branch: main

- project:
    name: managed-tenants
    label: addons
    node: app-sre
    gl_group: service
    gl_project: managed-tenants
    quay_org: osd-addons
    jobs:
    - 'gl-pr-check-managed-tenants':
        display_name: managed-tenants pr check
        branch: main
    - 'gl-build-master-managed-tenants':
        display_name: managed-tenants build-main
        branch: main
        slack_channel_notification: sd-mt-sre-info

- project:
    name: managed-tenants-bundles
    label: addons
    node: app-sre
    gl_group: service
    gl_project: managed-tenants-bundles
    quay_org: osd-addons
    jobs:
      - 'gl-pr-check-managed-tenants':
          display_name: managed-tenants-bundles pr-check
          branch: main
      - 'gl-build-master-managed-tenants':
          display_name: managed-tenants-bundles build main
          branch: main
          slack_channel_notification: sd-mt-sre-info

- project:
    name: managed-tenants-manifests
    label: addons
    node: app-sre
    gl_group: service
    gl_project: managed-tenants-manifests
    quay_org: osd-addons
    jobs:
      - 'gl-pr-check-managed-tenants':
          display_name: managed-tenants-manifests pr-check
          branch: main
          slack_channel_notification: sd-mt-sre-info

- project:
    name: managed-tenants-sops
    label: addons
    node: app-sre
    gl_group: service
    gl_project: managed-tenants-sops
    quay_org: osd-addons
    jobs:
    - 'gl-pr-check-managed-tenants':
        display_name: managed-tenants-sops pr-check
        branch: main    
