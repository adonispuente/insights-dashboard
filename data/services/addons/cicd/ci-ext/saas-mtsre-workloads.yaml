---
$schema: /app-sre/saas-file-2.yml

labels: {}

name: saas-mtsre-workloads
description: SaaS tracking the MTSRE workloads

app:
  $ref: /services/addons/app.yml

pipelinesProvider:
  $ref: /services/addons/pipelines/tekton.mt-pipelines.appsrep05ue1.yaml

slack:
  output: events
  workspace:
    $ref: /dependencies/slack/coreos.yml
  channel: sd-mt-sre-info

managedResourceTypes:
- CronJob

imagePatterns:
- quay.io/mtsre/mtsre-clusters-checker

resourceTemplates:
- name: mtsre-clusters-checker
  url: https://github.com/mt-sre/mtsre-clusters-checker
  path: /deploy/cronjob-template.yaml
  targets:
  - namespace:
      $ref: /services/addons/namespaces/mtsre-workloads-stage.yaml
    ref: main
    upstream:
      instance:
        $ref: /dependencies/ci-ext/ci-ext.yml
      name: mt-sre-mtsre-clusters-checker-gh-build-tag
