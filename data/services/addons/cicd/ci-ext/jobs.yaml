---
$schema: /dependencies/jenkins-config-1.yml

labels:
  service: mt-sre

name: ci-ext-mt-sre-jobs

description: ''

app:
  $ref: /services/addons/app.yml

instance:
  $ref: /dependencies/ci-ext/ci-ext.yml

type: jobs

config:
- project:
    name: managed-tenants-cli
    label: addons
    node: app-interface
    gh_org: mt-sre
    gh_repo: managed-tenants-cli
    white_list_target_branches: main
    jobs:
    - 'gh-pr-check':
        display_name: managed-tenants-cli pr-check
        branch: main
    - 'gh-build-tag':
        display_name: managed-tenants-cli publish to pypi
- project:
    name: addon-metadata-operator
    label: addons
    node: app-interface
    gh_org: mt-sre
    gh_repo: addon-metadata-operator
    jobs:
    - 'gh-pr-check':
        display_name: addon-metadata-operator pr-check
    - 'gh-build-tag':
        display_name: addon-metadata-operator build tag
- project:
    name: ocm-addons
    label: addons
    node: app-interface
    gh_org: mt-sre
    gh_repo: ocm-addons
    jobs:
    - 'gh-pr-check':
        display_name: ocm-addons pr-check
        branch: main
    - 'gh-build-tag':
        display_name: ocm-addons build tag
- project:
    name: go-ci
    label: addons
    node: app-interface
    gh_org: mt-sre
    gh_repo: go-ci
    jobs:
    - 'gh-pr-check':
        display_name: go-ci pr-check
        branch: main
- project:
    name: client
    label: addons
    node: app-interface
    gh_org: mt-sre
    gh_repo: client
    jobs:
    - 'gh-pr-check':
        display_name: client pr-check
        branch: main
- project:
    name: containers
    label: addons
    node: app-interface
    gh_org: mt-sre
    gh_repo: containers
    jobs:
    - 'gh-pr-check':
        display_name: containers pr-check
        branch: main
    - 'gh-build-master-mtsre':
        display_name: containers build master
        branch: main
- project:
    name: mtsre-clusters-checker
    label: addons
    node: app-interface
    gh_org: mt-sre
    gh_repo: mtsre-clusters-checker
    jobs:
    - 'gh-pr-check':
        display_name: mtsre-clusters-checker pr-check
        branch: main
    - 'gh-build-master-mtsre':
        display_name: mtsre-clusters-checker build main
        branch: main
    - 'gh-build-tag-mtsre':
        display_name: mtsre-clusters-checker publish release image to quay
        branch: main
- project:
    name: jira-wrangler
    label: addons
    node: app-interface
    gh_org: mt-sre
    gh_repo: jira-wrangler
    jobs:
    - 'gh-pr-check':
        display_name: jira-wrangler pr-check
        branch: main
    - 'gh-build-tag':
        display_name: jira-wrangler build tag
