---
$schema: /app-sre/scorecard-2.yml

labels:
  service: acs-fleetshard
  scorecardTitle: ACS Data Plane

app:
  $ref: /services/addons/app.yml

date: "2023-04-24"

acceptanceCriteria:
- comment: 'https://docs.google.com/document/d/1HSG35Tisw5561chxqGs8pMj80B3tjb6CwYDIRlhT3ys/edit#heading=h.vdng5qnm0aa2'
  name: CONTINUITY-0001
  status: green
- comment: 'https://github.com/stackrox/acs-managed-service-runbooks/tree/master/sops'
  name: CONTINUITY-0002
  status: green
- comment: 'https://github.com/stackrox/acs-managed-service-runbooks/tree/master/sops'
  name: CONTINUITY-0003
  status: green
- comment: ''
  name: INCIDENT-MGMT-0001
  status: green
- comment: 'https://github.com/stackrox/acs-fleet-manager/blob/main/docs/architecture/images/acscs_architecture.md'
  name: INCIDENT-MGMT-0002
  status: green
- comment: ''
  name: INCIDENT-MGMT-0003
  status: green
- comment: 'SOP/escalation document: https://gitlab.cee.redhat.com/stackrox/acs-cloud-service/runbooks/sops/escalation.md'
  name: INCIDENT-MGMT-0004
  status: green
- comment: 'https://docs.google.com/document/d/1POSmyYwGC-hn_0CNE3_qrd42aJurOBfwC7Nd1HqR0vU/edit'
  name: INCIDENT-MGMT-0005
  status: green
- comment: 'All images have unique tags with the git commit partial hash, they are not referenced by digests yet'
  name: INCIDENT-MGMT-0006
  status: yellow
- comment: 'SOPs need SRE review: https://github.com/stackrox/acs-managed-service-runbooks/tree/master/sops'
  name: INCIDENT-MGMT-0007
  status: green
- comment: 'Work in progress and depending on the Addon deployed to Dataplane clusters: https://issues.redhat.com/browse/MTSRE-1084'
  name: INCIDENT-MGMT-0008
  status: yellow
- comment: ''
  name: OBSERVABILITY-0001
  status: green
- comment: 'https://issues.redhat.com/browse/ROX-15983 and https://docs.google.com/document/d/1qQWj3ZeN5D8whSdSjp5cO1782Fn8oFvnqTuV-42WrCQ/edit'
  name: OBSERVABILITY-0002
  status: green
- comment: 'https://github.com/stackrox/rhacs-observability-resources/blob/master/resources/prometheus/prometheus-rules.yaml#L360-L483 is currently the authoritative definition of Central SLI/SLOs (2023-06-09)'
  name: OBSERVABILITY-0003
  status: green
- comment: 'In data plane observability stack Grafana dashboard: https://grafana-route-rhacs-observability.apps.acs-prod-dp-01.pnz3.p1.openshiftapps.com/d/vH7ntMs4k/rhacs-dataplane-central-slos?orgId=1 . Global data plane dashboard tracked on SRE side.'
  name: OBSERVABILITY-0004
  status: green
- comment: 'No central logging strategy is required for Addons.'
  name: OBSERVABILITY-0005
  status: green
- comment: 'Agreements are in place.'
  name: OBSERVABILITY-0006
  status: green
- comment: 'https://issues.redhat.com/browse/ROX-15984 ACS-CS Team is verifying with ProdSec if their build artifacts qualify. Images are built on OpenShift CI. All images are using ubi as base.'
  name: RELEASING-0001
  status: green
- comment: 'No moving tags, tags related to git commit. Images not referenced by digest yet.'
  name: RELEASING-0002
  status: green
- comment: ''
  name: RELEASING-0003
  status: green
- comment: 'Simon is reviwing the documentation and proccess here.'
  name: RELEASING-0004
  status: red
- comment: 'E2E tests are in place and are considered before releasing to production.'
  name: RELEASING-0005
  status: green
- comment: ''
  name: RELIABILITY-0001
  status: green
- comment: "It is in place, we are looking into fine-tuning the values acording to capacity planning."
  name: RELIABILITY-0002
  status: green
- comment: ''
  name: RELIABILITY-0003
  status: green
- comment: 'Does not apply.'
  name: RELIABILITY-0004
  status: green
- comment: 'Does not apply.'
  name: RELIABILITY-0005
  status: green
- comment: 'https://issues.redhat.com/browse/ROX-17882 Upgrades of ACS versions will disrupt the service because Central is single-replica. Product has made a decision not to block GA on the refactor to make Central horizontally scalable.'
  name: RELIABILITY-0006
  status: yellow
- comment: 'Checked'
  name: RELIABILITY-0007
  status: green
- comment: "OSD version upgrades will not disrupt the service. As long as the ACS version is not changing (upgrade/rollback) at the same time, Central should restart in a few seconds."
  name: RELIABILITY-0008
  status: green
- comment: 'https://issues.redhat.com/browse/ROX-15980'
  name: RELIABILITY-0009
  status: green
- comment: "We know that the upgrade will cause disruptions because Central is single-replica. We have an SoP for upgrades but will *not* be silencing and removing them. The alerts at https://github.com/stackrox/rhacs-observability-resources/blob/master/resources/prometheus/prometheus-rules.yaml#L21-L30
and https://github.com/stackrox/rhacs-observability-resources/blob/master/resources/prometheus/prometheus-rules.yaml#L535-L551 should only trigger if an individual instance is down for 20+ minutes, at which point an alert should occur. Also covered by https://issues.redhat.com/browse/ROX-16052"
  name: RELIABILITY-0010
  status: yellow
- comment: "We have some of this defined in code (Central resources defined in Fleetshard Sync code), need to ensure this covers the data plane cluster (what each component's request, cpu, memory, etc. looks like) - pull together the definitions. Also covered by https://issues.redhat.com/browse/ROX-15980"
  name: RELIABILITY-0011
  status: yellow
- comment: 'Secrets management exist, it uses AWS Secreet Manager'
  name: SECURITY-0001
  status: green
- comment: 'https://issues.redhat.com/browse/ROX-15984'
  name: SECURITY-0002
  status: green
- comment: 'Agreement to prioritize fixing high severity security issues following Infosec guidelines is in place.'
  name: SECURITY-0003
  status: green
- comment: "We have spoken with Compliance teams and their next steps are all in progress. From the SRE perspective however this is complete; it should not block entering the transition period. Tickets for tracking purposes: https://issues.redhat.com/browse/ROX-14820 https://issues.redhat.com/browse/ROX-8870 https://issues.redhat.com/browse/ROX-8852 https://issues.redhat.com/browse/ROX-8871"
  name: SECURITY-0004
  status: green
