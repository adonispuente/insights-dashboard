---
$schema: /dependencies/jenkins-config-1.yml

labels:
  service: ocm

name: ci-int-osd-fleet-manager

description: Build jobs for OSD Fleet Manager

app:
  $ref: /services/ocm/osd-fleet-manager/app.yml

instance:
  $ref: /dependencies/ci-int/ci-int.yml

type: jobs

config:
- project:
    name: osd-fleet-manager
    label: sd-uhc
    node: rhel8
    gl_group: service
    gl_project: osd-fleet-manager
    quay_org: app-sre
    jobs:
    - ocm-pr-check:
        display_name: OSD Fleet Manager MR check
        html_publisher_dir: './data/results/'
        concurrent_build: true
    - gl-build-master:
        display_name: OSD Fleet Manager push image
        branch: main
    - gl-build-master:
        display_name: OSDFM hotfix branch image
        branch: hotfix
- project:
    name: aws-sdk-investigations
    label: sd-uhc
    node: rhel8
    gl_group: osd-fleet-manager
    gl_project: aws-sdk-investigations
    jobs:
    - ocm-pr-check:
        display_name: OSD Fleet Manager MR check
        html_publisher_dir: './data/results/'
        concurrent_build: true
