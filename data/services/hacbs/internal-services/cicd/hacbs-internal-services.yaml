---
$schema: /app-sre/saas-file-2.yml

labels:
  service: hacbs-internal-services
name: hacbs-internal-services
description: 'SaaS tracking file for hacbs-internal-services'

app:
  $ref: /services/hacbs/app.yml

pipelinesProvider:
  $ref: /services/hacbs/internal-services/pipelines/tekton-hacbs-internal-services.appsres03ue1.yml

managedResourceTypes:
  - Pipeline
  - Task
  - ServiceAccount
  - CustomResourceDefinition
  - Deployment
  - RoleBinding
  - Role
  - ClusterRoleBinding
  - ClusterRole
  - Service

imagePatterns:
  - quay.io/scoheb/internal-services
  - quay.io/openshift/origin-kube-rbac-proxy

resourceTemplates:
  - name: hacbs-internal-services-tekton-iib-resources
    url: https://github.com/hacbs-release/internal-services-resources
    path: /openshift/iib-template.yaml
    #parameters:
    #  REGISTRY_IMG: quay.io/app-sre/configuration-anomaly-detection
    targets:
      - namespace:
          $ref: /services/hacbs/internal-services/namespaces/hacbs-internal-services.appsres03ue1.yaml
        ref: main
  - name: hacbs-internal-services-tekton-errata-resources
    url: https://github.com/hacbs-release/internal-services-resources
    path: /openshift/errata-template.yaml
    targets:
      - namespace:
          $ref: /services/hacbs/internal-services/namespaces/hacbs-internal-services.appsres03ue1.yaml
        ref: main
  - name: hacbs-internal-services-tekton-service-account-resources
    url: https://github.com/hacbs-release/internal-services-resources
    path: /openshift/service-account-template.yaml
    targets:
      - namespace:
          $ref: /services/hacbs/internal-services/namespaces/hacbs-internal-services.appsres03ue1.yaml
        ref: main
  - name: hacbs-internal-services-controller
    url: https://github.com/hacbs-release/internal-services-resources
    path: /openshift/internal-services-controller
    provider: directory
    targets:
      - namespace:
          $ref: /services/hacbs/internal-services/namespaces/hacbs-internal-services.appsres03ue1.yaml
        ref: main
