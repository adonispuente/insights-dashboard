---
$schema: /app-sre/saas-file-2.yml

labels:
  service: hacbs-internal-services
name: hacbs-internal-services
description: 'SaaS tracking file for hacbs-internal-services'

app:
  $ref: /services/hacbs/app.yml

pipelinesProvider:
  $ref: /services/hacbs/internal-services/pipelines/tekton-hacbs-internal-services.appsres03ue1.yml

managedResourceTypes:
  - Pipeline
  - Task
  - ServiceAccount

imagePatterns:
  - quay.io/hacbs-release/internal-services

resourceTemplates:
  - name: hacbs-internal-services-tekton-iib-resources
    url: https://github.com/hacbs-release/internal-services-resources
    path: /openshift/iib-template.yaml
    #parameters:
    #  REGISTRY_IMG: quay.io/app-sre/configuration-anomaly-detection
    targets:
      - namespace:
          $ref: /services/hacbs/internal-services/namespaces/hacbs-internal-services.appsres03ue1.yaml
        ref: main
  - name: hacbs-internal-services-tekton-errata-resources
    url: https://github.com/hacbs-release/internal-services-resources
    path: /openshift/errata-template.yaml
    targets:
      - namespace:
          $ref: /services/hacbs/internal-services/namespaces/hacbs-internal-services.appsres03ue1.yaml
        ref: main
  - name: hacbs-internal-services-tekton-service-account-resources
    url: https://github.com/hacbs-release/internal-services-resources
    path: /openshift/service-account-template.yaml
    targets:
      - namespace:
          $ref: /services/hacbs/internal-services/namespaces/hacbs-internal-services.appsres03ue1.yaml
        ref: main
