---
$schema: /dependencies/jenkins-config-1.yml

labels:
  service: keycloak

name: ci-int-keycloak-jobs

description: 'Keycloak Service Jobs'

app:
  $ref: /services/keycloak/app.yml

instance:
  $ref: /dependencies/ci-int/ci-int.yml

type: jobs

config:
- project:
    name: keycloak
    label: keycloak
    node: app-sre
    gl_group: service
    gl_project: keycloak
    quay_org: app-sre
    jobs:
    - 'gl-build-master':
        display_name: keycloak build master
        branch: main
    - 'gl-pr-check':
        display_name: keycloak pr-check
- project:
    name: keycloak-user-service
    label: keycloak-user-service
    node: app-sre
    gl_group: service
    gl_project: keycloak-user-service
    quay_org: app-sre
    jobs:
    - 'gl-build-master':
        display_name: keycloak-user-service build main
        branch: main
    - 'gl-pr-check':
        display_name: keycloak-user-service pr-check
- project:
    name: keycloak-config-manager
    label: keycloak-config-manager
    node: app-sre
    gl_group: service
    gl_project: keycloak-config-manager
    quay_org: app-sre
    jobs:
    - 'gl-build-master':
        display_name: keycloak-config-manager build main
        branch: main
    - 'gl-pr-check':
        display_name: keycloak-config-manager pr-check
- project:
    name: keycloak-interface
    label: keycloak-interface
    node: app-sre
    gl_group: service
    gl_project: keycloak-interface
    quay_org: app-sre
    jobs:
    - 'gl-build-master':
        display_name: keycloak-interface build main
        branch: main
    - 'gl-pr-check':
        display_name: keycloak-interface pr-check
