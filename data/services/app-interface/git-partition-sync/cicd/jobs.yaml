---
$schema: /dependencies/jenkins-config-1.yml

labels:
  service: git-partition-sync

name: ci-ext-git-partition-sync-jobs

description: ''

app:
  $ref: /services/app-interface/git-partition-sync/app.yml

instance:
  $ref: /dependencies/ci-ext/ci-ext.yml

type: jobs

config:
- project:
    name: git-partition-sync-producer
    label: git-partition-sync-producer
    node: app-sre
    gh_org: app-sre
    gh_repo: git-partition-sync-producer
    quay_org: app-sre
    build_deploy_script_path: "./build_deploy.sh"
    pr_check_script_path: "./pr_check.sh"
    jobs:
    - 'gh-build-master-git-partition-sync':
        display_name: build master
    - 'gh-pr-check-git-partition-sync':
        display_name: pr-check
- project:
    name: git-partition-sync-consumer
    label: git-partition-sync-consumer
    node: app-sre
    gh_org: app-sre
    gh_repo: git-partition-sync-consumer
    quay_org: app-sre
    build_deploy_script_path: "./build_deploy.sh"
    pr_check_script_path: "./pr_check.sh"
    jobs:
    - 'gh-build-master-git-partition-sync':
        display_name: build master
    - 'gh-pr-check-git-partition-sync':
        display_name: pr-check
