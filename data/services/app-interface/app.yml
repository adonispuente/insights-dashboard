---
$schema: /app-sre/app-1.yml


labels:
  service: app-interface

name: App-Interface

description: |
  This tool serves as a central coordination point for hosted services
  being run by the Application SRE team. Many or all of the portions of the
  contract defined herein will be handled through automation after changes are
  accepted to this repository by the appropriate parties.

serviceOwners:
- name: App-SRE Team
  email: sd-app-sre@redhat.com

performanceParameters:
  SLO: 90

dependencies:
- $ref: /dependencies/aws/service.yml
- $ref: /dependencies/ci-ext/service.yml
- $ref: /dependencies/ci-int/service.yml
- $ref: /dependencies/github/service.yml
- $ref: /dependencies/gitlab/service.yml
- $ref: /dependencies/quay/service.yml
- $ref: /dependencies/openshift/service.yml

quayRepos:
- org:
    $ref: /dependencies/quay/app-sre.yml
  items:
  - name: qontract-validator
    description: ''
    public: true
  - name: qontract-server
    description: ''
    public: true
  - name: qontract-reconcile
    description: ''
    public: true
  - name: app-interface
    description: ''
    public: false
  - name: app-interface-nginx-gate
    description: ''
    public: false
  - name: postgres
    description: 'Used by the SQL-QUERY integration'
    public: true
    mirror: docker.io/postgres
  - name: mysql
    description: 'Used by the SQL-QUERY integration'
    public: true
    mirror: docker.io/mysql

gcrRepos:
- project:
    $ref: /dependencies/gcp/app-sre.yml
  items:
  - name: qontract-validator
    description: ''
    public: true
    mirror: quay.io/app-sre/qontract-validator
  - name: qontract-server
    description: ''
    public: true
    mirror: quay.io/app-sre/qontract-server
  - name: qontract-reconcile
    description: ''
    public: true
    mirror: quay.io/app-sre/qontract-reconcile
  - name: manifest-bouncer
    description: ''
    public: true
    mirror: quay.io/app-sre/manifest-bouncer
  - name: saasherder
    description: ''
    public: true
    mirror: quay.io/app-sre/saasherder
  - name: vault-manager
    description: ''
    public: true
    mirror: quay.io/app-sre/vault-manager

codeComponents:
- name: app-interface
  resource: upstream
  url: https://gitlab.cee.redhat.com/service/app-interface
  gitlabHousekeeping:
    enabled: true
    rebase: true
  jira:
    $ref: /dependencies/jira/issues-redhat-com.yaml
- name: qontract-server
  resource: upstream
  url: https://github.com/app-sre/qontract-server
- name: qontract-reconcile
  resource: upstream
  url: https://github.com/app-sre/qontract-reconcile
- name: qontract-validator
  resource: upstream
  url: https://github.com/app-sre/qontract-validator
- name: app-interface saas
  resource: saasrepo
  url: https://github.com/app-sre/saas-app-interface
- name: ci-conf-recycler
  resource: upstream
  url: https://github.com/app-sre/ci-conf-recycler
