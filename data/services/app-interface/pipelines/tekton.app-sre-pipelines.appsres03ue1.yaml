---
$schema: /app-sre/pipelines-provider-1.yml

labels: {}

name: tekton-app-sre-pipelines-appsres03ue1
description: tekton provider in the app-sre-pipelines namespace in the appsres03ue1 cluster

provider: tekton
namespace:
  $ref: /services/app-interface/namespaces/app-sre-pipelines.appsres03ue1.yaml

retention:
  days: 7
  minimum: 100

taskTemplates:
- name: openshift-saas-deploy
  type: onePerSaasFile
  path: /tekton/openshift-tekton-resources/openshift-saas-deploy.task.yaml
  variables:
    qontract_reconcile_image_tag: latest
- name: push-gateway-openshift-saas-deploy-task-status-metric
  type: onePerNamespace
  path: /tekton/openshift-tekton-resources/push-gateway-task-status-metric.task.yaml
  variables:
    ubi8_ubi_minimal_image_tag: 8.4-7
- name: push-http-splunk-tekton-pipeline-metadata
  type: onePerNamespace
  path: /tekton/openshift-tekton-resources/push-http-splunk-tekton-pipeline-metadata.task.yaml
  variables:
    ubi8_ubi_minimal_image_tag: 8.4-7

pipelineTemplates:
  openshiftSaasDeploy:
    name: openshift-saas-deploy
    type: onePerSaasFile
    path: /tekton/openshift-tekton-resources/openshift-saas-deploy.pipeline.yaml

deployResources:
  requests:
    cpu: 200m
    memory: 300Mi
  limits:
    cpu: 200m
    memory: 300Mi
