---
$schema: /app-sre/saas-file-2.yml

labels:
  service: configuration-anomaly-detection

name: configuration-anomaly-detection
description: 'SaaS tracking file for configuration-anomaly-detection'

app:
  $ref: /services/configuration-anomaly-detection/app.yml

pipelinesProvider:
  $ref: /services/configuration-anomaly-detection/pipelines/configuration-anomaly-detection-pipelines.app-sre-prod-01.yaml

slack:
  workspace:
    $ref: /dependencies/slack/coreos.yml
  channel: sd-sre-platform

managedResourceTypes:
  - ClusterRole
  - ClusterRoleBinding
  - Namespace
  - Pipeline
  - Role
  - RoleBinding
  - Secret
  - ServiceAccount
  - Subscription
  - Task
  - Trigger
  - TriggerBinding

imagePatterns:
  - quay.io/app-sre/configuration-anomaly-detection

resourceTemplates:
  - name: configuration-anomaly-detection
    url: https://github.com/app-sre/configuration-anomaly-detection
    path: /openshift/template.yaml # TODO(crebisch): set the correct template path
    parameters: {} # TODO(crebisch): empty for now.. until we find a use for this
    targets:
      - namespace:
          $ref: /services/configuration-anomaly-detection/namespaces/configuration-anomaly-detection-pipelines.app-sre-stage-01.yaml
        ref: master
        upstream:
          instance:
            $ref: /dependencies/ci-ext/ci-ext.yml
          name: app-sre-configuration-anomaly-detection-gh-build-master
      - namespace:
          $ref: /services/configuration-anomaly-detection/namespaces/configuration-anomaly-detection-pipelines.app-sre-prod-01.yaml
        ref: 70fcbd29db03bb202b6b9fc312ce9e9f5073e641
