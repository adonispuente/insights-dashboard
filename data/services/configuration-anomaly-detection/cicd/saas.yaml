---
$schema: /app-sre/saas-file-2.yml

labels:
  service: configuration-anomaly-detection

name: configuration-anomaly-detection
description: 'SaaS tracking file for configuration-anomaly-detection'

app:
  $ref: /services/configuration-anomaly-detection/app.yml

pipelinesProvider:
  $ref: /services/configuration-anomaly-detection/pipelines/tekton.configuration-anomaly-detection-pipelines.app-sre-prod-01.yaml

slack:
  workspace:
    $ref: /dependencies/slack/coreos.yml
  channel: sd-sre-platform

managedResourceTypes:
  - Pipeline
  - ServiceAccount
  - Task
  - Trigger
  - TriggerBinding

imagePatterns:
  - quay.io/app-sre/configuration-anomaly-detection

resourceTemplates:
  - name: configuration-anomaly-detection
    url: https://github.com/openshift/configuration-anomaly-detection
    path: /openshift/template.yaml
    parameters:
      REGISTRY_IMG: quay.io/app-sre/configuration-anomaly-detection
    hash_length: 64
    targets:
      - namespace:
          $ref: /services/configuration-anomaly-detection/namespaces/configuration-anomaly-detection-stage.yaml
        ref: main
        upstream:
          instance:
            $ref: /dependencies/ci-ext/ci-ext.yml
          name: openshift-configuration-anomaly-detection-gh-build-main
