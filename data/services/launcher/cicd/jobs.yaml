---
$schema: /dependencies/jenkins-config-1.yml

labels:
  service: launcher

name: ci-ext-launcher-jobs

description: ''

instance:
  $ref: /dependencies/ci-ext/ci-ext.yml

type: jobs

config:
- project:
    name: code-quarkus-ci
    label: code-quarkus
    node: app-sre
    gh_org: quarkusio
    gh_repo: code.quarkus.io
    quay_org: quarkus
    kube_cluster: app-sre-stage
    kube_namespace: code-quarkus-stage
    saasherder_context: code-quarkus
    saasherder_services: code-quarkus
    saas_git: https://github.com/fabric8-launcher/code.quarkus.io-release
    jobs:
    - 'gh-build-master':
        display_name: code.quarkus.io build master

- project:
    name: code-quarkus-cd
    label: code-quarkus
    node: app-sre
    gh_org: quarkusio
    gh_repo: code.quarkus.io-release
    saasherder_context: code-quarkus
    image_pattern: '^quay\.io/quarkus/code-quarkus-app'
    quay_org: quarkus
    kube_cluster: app-sre
    kube_namespace: code-quarkus-production
    jobs:
    - 'saas-deploy':
        display_name: code.quarkus.io saas deploy
    - 'saas-pr-check':
        display_name: code.quarkus.io saas pr check
