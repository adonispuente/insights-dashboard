---
$schema: /app-sre/saas-file-2.yml

labels:
  service: app-sre-observability

name: saas-grafana
description: saas-grafana

app:
  $ref: /services/observability/app.yml

pipelinesProvider:
  $ref: /services/app-interface/pipelines/tekton.app-sre-pipelines.appsrep05ue1.yaml

deployResources:
  requests:
    cpu: "1"
    memory: 1800Mi
  limits:
    cpu: "1"
    memory: 1800Mi

slack:
  workspace:
    $ref: /dependencies/slack/redhat-internal.yml
  channel: dev-null

managedResourceTypes:
- ConfigMap

imagePatterns: []

authentication:
  # required for insights private repositories
  code:
    path: app-sre/creds/github-app-sre-bot
    field: openshift-saas-deploy

deprecated: true

resourceTemplates:
# tenant dashboards
- name: insights-dashboards
  url: https://gitlab.cee.redhat.com/insights-platform/saas-templates
  path: /dashboards
  provider: directory
  targets:
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-stage-int.yml
    ref: 1d0d43712ef7c5f84cc924068c18977472e9d857
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-production-int.yml
    ref: 1d0d43712ef7c5f84cc924068c18977472e9d857
- name: uhc-auth-proxy-dashboards
  url: https://github.com/RedHatInsights/uhc-auth-proxy
  path: /grafana/dashboards
  provider: directory
  targets:
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-stage-int.yml
    ref: 3ea31e89d2ddda8fed859954833f5e024d7d1b92
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-production-int.yml
    ref: 3ea31e89d2ddda8fed859954833f5e024d7d1b92
- name: remediations-dashboards
  url: https://github.com/RedHatInsights/insights-remediations
  path: /dashboards
  provider: directory
  targets:
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-stage-int.yml
    ref: 60974914f41f7f6750e743947fa7916c65bd9414
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-production-int.yml
    ref: 60974914f41f7f6750e743947fa7916c65bd9414
- name: insights-engine-dashboards
  url: https://gitlab.cee.redhat.com/insights-platform/insights-engine
  path: /dashboards
  provider: directory
  targets:
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-stage-int.yml
    ref: ae94e1e7ca46715072acc056f839a115a478aca4
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-production-int.yml
    ref: ae94e1e7ca46715072acc056f839a115a478aca4
- name: insights-puptoo-dashboards
  url: https://github.com/RedHatInsights/insights-puptoo
  path: /dashboards
  provider: directory
  targets:
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-stage-int.yml
    ref: 5d5d6edc7eaccf014359720479b493b34953b5d2
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-production-int.yml
    ref: 5d5d6edc7eaccf014359720479b493b34953b5d2
- name: insights-advisor-service-dashboards
  url: https://gitlab.cee.redhat.com/insights-platform/advisor-backend
  path: /service/dashboards
  provider: directory
  targets:
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-stage-int.yml
    ref: 2054f32d70ba62c9a89ff7c4347055adeb37ba6d
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-production-int.yml
    ref: 2054f32d70ba62c9a89ff7c4347055adeb37ba6d
- name: insights-advisor-api-dashboards
  url: https://gitlab.cee.redhat.com/insights-platform/advisor-backend
  path: /api/dashboards
  provider: directory
  targets:
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-stage-int.yml
    ref: 2054f32d70ba62c9a89ff7c4347055adeb37ba6d
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-production-int.yml
    ref: 2054f32d70ba62c9a89ff7c4347055adeb37ba6d
- name: cyndi-dashboards
  url: https://github.com/RedHatInsights/inventory-syndication
  path: /grafana
  provider: directory
  targets:
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-stage-int.yml
    ref: 2c714a62b0dbb5ff622fd1277f98a6da4da5747d
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-production-int.yml
    ref: 2c714a62b0dbb5ff622fd1277f98a6da4da5747d
- name: xjoin-operator-dashboards
  url: https://github.com/RedHatInsights/xjoin-operator
  path: /grafana
  provider: directory
  targets:
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-stage-int.yml
    ref: 7489eae1af23777f1e92ecea0c5e2136c751b764
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-production-int.yml
    ref: 7489eae1af23777f1e92ecea0c5e2136c751b764
- name: xjoin-dashboards
  url: https://github.com/RedHatInsights/xjoin-search
  path: /grafana
  provider: directory
  targets:
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-stage-int.yml
    ref: 7a7c7c50a898ed119e2e84cb04568331fb41f623
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-production-int.yml
    ref: 7a7c7c50a898ed119e2e84cb04568331fb41f623
- name: entitlements-dashboards
  url: https://github.com/RedHatInsights/entitlements-api-go
  path: /dashboards
  provider: directory
  targets:
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-stage-int.yml
    ref: aeb9d18e696da8d85dfb68ee439d095b1edf2a65
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-production-int.yml
    ref: aeb9d18e696da8d85dfb68ee439d095b1edf2a65
- name: insights-policies
  url: https://github.com/RedHatInsights/policies-ui-backend
  path: /.rhcicd/grafana
  provider: directory
  targets:
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-stage-int.yml
    ref: 52e0951176525d66a14fb37d7b05a2b6f4c7eb57
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-production-int.yml
    ref: 52e0951176525d66a14fb37d7b05a2b6f4c7eb57
- name: config-manager-dashboards
  url: https://github.com/RedHatInsights/config-manager
  path: /dashboards
  provider: directory
  targets:
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-stage-int.yml
    ref: bdff020d694c5a7767706591efe1b986fb4320ec
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-production-int.yml
    ref: bdff020d694c5a7767706591efe1b986fb4320ec
- name: sendgrid-dashboards
  url: https://gitlab.cee.redhat.com/service/ocm-sendgrid-service
  path: /dashboards
  provider: directory
  targets:
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-stage-int.yml
    ref: c0f979c15e93f5437ca0886e8aa20b807c138d6b
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-production-int.yml
    ref: c0f979c15e93f5437ca0886e8aa20b807c138d6b
- name: malware-detection-api-dashboards
  url: https://gitlab.cee.redhat.com/insights-platform/malware-detection-backend
  path: /dashboards
  provider: directory
  targets:
    - namespace:
        $ref: /services/observability/namespaces/app-sre-observability-stage-int.yml
      ref: 87b3301cc0d5409288fdd44146618791a2e8bc1e
    - namespace:
        $ref: /services/observability/namespaces/app-sre-observability-production-int.yml
      ref: 87b3301cc0d5409288fdd44146618791a2e8bc1e
- name: turnpike-dashboards
  url: https://github.com/RedHatInsights/turnpike
  path: /dashboards
  provider: directory
  targets:
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-stage-int.yml
    ref: 90d16ed64be29394f53b55193e2ae8347329195a
