---
$schema: /app-sre/saas-file-1.yml

labels:
  service: app-sre-observability

name: saas-zabbix-impersonator
description: saas-zabbix-impersonator

app:
  $ref: /services/observability/app.yml

instance:
  $ref: /dependencies/ci-int/ci-int.yml

slack:
  workspace:
    $ref: /dependencies/slack/coreos.yml
  channel: sd-app-sre-info

managedResourceTypes:
- Deployment
- Service

imagePatterns:
- quay.io/app-sre

resourceTemplates:
- name: zabbix-impersonator
  path: /hack/openshift/template.yaml
  url: https://github.com/app-sre/zabbix-impersonator
  parameters:
    REPLICAS: 1
  targets:
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-stage.yml
    ref: master
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-production.yml
    ref: 9b5084d4a4e526ad98f24cad6309808eb604632b
    parameters:
      ZI_SERVER_IP_WHITELIST: 0.0.0.0/0,127.0.0.1
