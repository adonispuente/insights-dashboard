---
$schema: /openshift/shared-resources-1.yml

labels: {}

name: grafana-observability-shared-resources
description: shared resources for grafana observability

openshiftResources:
- provider: resource
  path: /observability/grafana/grafana-dashboards.configmap.yaml
  validate_json: true
- provider: resource-template
  type: extracurlyjinja2
  path: /observability/grafana/grafana-datasources.secret.yaml
  variables:
    clusters:
    - name: app-sre-stage-01
      slug: app-sre-stage-0.k3s7.p1
    # this is a workaround to use the vault function inside the for loop in the template
    current_cluster:
      name: 'workaround'
