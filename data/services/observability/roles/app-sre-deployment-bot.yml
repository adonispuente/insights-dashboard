---
$schema: /access/role-1.yml

labels:
  service: observability

name: app-sre-deployment-bot-observability
description: openshift ServiceAccount app-sre-deployment-bot permissions to the app-sre observability service

permissions:
- $ref: /openshift/app-sre/permissions/app-sre-observability-production-admin.yml
- $ref: /openshift/app-sre/permissions/app-sre-exporters-admin.yml
# View permissions are explicitly required because the Prometheus operator CR's
# are currently not aggregated to the `admin` role
- $ref: /openshift/app-sre/permissions/app-sre-observability-production-view.yml
- $ref: /openshift/app-sre/permissions/app-sre-exporters-view.yml
# - $ref: /openshift/app-sre/permissions/app-sre-observability-stage-view.yml
# - $ref: /openshift/app-sre/permissions/app-sre-observability-stage-admin.yml

# View permissions are explicitly required because the Prometheus operator CR's
# are currently not aggregated to the `admin` role
- $ref: /openshift/app-sre-stage/permissions/app-sre-observability-stage-admin.yml
- $ref: /openshift/app-sre-stage/permissions/app-sre-observability-stage-view.yml
