---
$schema: /vault-config/policy-1.yml

labels:
  service: vault.devshift.net

name: "ci-ext-approle-policy"
instance:
  $ref: /services/vault.devshift.net/config/ci-ext/ci-ext.yml
rules: |
  path "app-sre/ci-ext/*" {
    capabilities = ["read"]
  }

  path "app-sre/creds/app-interface/production/basic-auth" {
    capabilities = ["read"]
  }

  path "app-sre/creds/github-app-sre-bot" {
    capabilities = ["read"]
  }

  path "app-sre/creds/3scale-api" {
    capabilities = ["read"]
  }

  path "app-sre/integrations-output/aws-ecr-image-pull-secrets/*" {
    capabilities = ["read"]
  }

  path "app-sre/integrations-output/terraform-resources/app-sre-prod-01/app-sre-ci/packer" {
    capabilities = ["read"]
  }

  path "app-sre/quay/*" {
    capabilities = ["read"]
  }

  path "devtools-osio-ci/*" {
    capabilities = ["read"]
  }

  path "insights/secrets/qe/global/ibutsu" {
    capabilities = ["read"]
  }

  path "insights-cicd/*" {
    capabilities = ["read"]
  }

  path "osd-sre-cicd/ci-ext/curator-oauth" {
    capabilities = ["read"]
  }

  path "osde2e/scale" {
    capabilities = ["read"]
  }

  path "image-builder-ci/*" {
    capabilities = ["read"]
  }

  path "mt-sre/quay/mtsre-push" {
    capabilities = ["read"]
  }
  
  path "acs-fleet-manager-ci/*" {
    capabilities = ["read"]
  }
