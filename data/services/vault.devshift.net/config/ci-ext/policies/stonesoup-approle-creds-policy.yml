---
$schema: /vault-config/policy-1.yml

labels:
  service: vault.devshift.net

name: "stonesoup-approle-creds-policy"
instance:
  $ref: /services/vault.devshift.net/config/ci-ext/ci-ext.yml
# grant the stonesoup team to retrieve their approle creds on vault.ci-ext
rules: |
  path "app-sre/approles/stonesoup-stage-approle" {
    capabilities = ["read"]
  }
  path "app-sre/approles/stonesoup-production-approle" {
    capabilities = ["read"]
  }
  path "app-sre/approles/stonesoup-production-rh-approle" {
    capabilities = ["read"]
  }
