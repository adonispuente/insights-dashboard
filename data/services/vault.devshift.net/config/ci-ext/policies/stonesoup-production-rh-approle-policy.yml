---
$schema: /vault-config/policy-1.yml

labels:
  service: vault.devshift.net

name: stonesoup-production-rh-approle-policy
instance:
  $ref: /services/vault.devshift.net/config/ci-ext/ci-ext.yml
# Read only permissions on RHTAP
# All writes should be done on the internal production vault
# Provides access to RHTAP (Stonesoup) secrets that required by RH users
rules: |
  path "stonesoup/data/production/redhat/*" {
    capabilities = ["list", "read"]
  }
  path "app-sre/integrations-output/terraform-resources/stonesoupp01ue1/stonesoup-infra-production/rh-artifacts-bucket-writer" {
    capabilities = ["list", "read"]
  }
