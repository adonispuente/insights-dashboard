---
$schema: /vault-config/policy-1.yml

labels:
  service: vault.devshift.net

name: "managed-services-policy"
rules: |
  path "managed-services/*" {
    capabilities = ["create", "read", "update", "list"]
  }
  path "managed-services-ci/*" {
    capabilities = ["create", "read", "update", "delete", "list"]
  }
  path "app-interface/metadata/managed-service-api/" {
    capabilities = ["list"]
  }
  path "app-interface/metadata/managed-service-api/*" {
    capabilities = ["list", "read"]
  }
  path "app-interface/data/managed-service-api/*" {
    capabilities = ["create", "update", "read"]
  }
  path "insights/data/secrets/insights-dev/managed-services-ci/*" {
    capabilities = ["create", "read", "update", "list"]
  }
  path "insights/data/secrets/insights-dev/managed-services-qa/*" {
    capabilities = ["create", "read", "update", "list"]
  }
  path "insights/data/secrets/insights-prod/managed-services-prod/*" {
    capabilities = ["create", "read", "update", "list"]
  }
  path "insights/data/secrets/insights-stage/managed-services-stage/*" {
    capabilities = ["create", "read", "update", "list"]
  }

