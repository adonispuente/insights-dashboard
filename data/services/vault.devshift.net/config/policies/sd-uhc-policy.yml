---
$schema: /vault-config/policy-1.yml

labels:
  service: vault.devshift.net

name: "sd-uhc-policy"
instance:
  $ref: /services/vault.devshift.net/config/instances/devshift-net.yml
rules: |
  path "sd-uhc/*" {
    capabilities = ["create", "read", "update", "delete", "list"]
  }
  # https://gitlab.cee.redhat.com/service/app-interface/-/blob/master/docs/uhc/sop/ocm-ci-jobs.md#invalidated-tokens
  path "app-sre/integrations-output/openshift-serviceaccount-tokens/app-sre-stage-01/uhc-integration/hivei01ue1-hive-hive-frontend" {
    capabilities = ["read", "list"]
  }
  path "integrations-output/openshift-serviceaccount-tokens/app-sre-stage-01/uhc-integration/hivei01ue1-aws-account-operator-aws-account-operator-client" {
    capabilities = ["read", "list"]
  }
  path "integrations-output/openshift-serviceaccount-tokens/app-sre-stage-01/uhc-integration/hivei01ue1-gcp-project-operator-gcp-project-operator-client" {
    capabilities = ["read", "list"]
  }
