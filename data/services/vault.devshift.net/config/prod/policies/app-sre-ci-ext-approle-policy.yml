---
$schema: /vault-config/policy-1.yml

labels:
  service: vault.devshift.net

name: "app-sre-ci-ext-approle-policy"
instance:
  $ref: /services/vault.devshift.net/config/prod/devshift-net.yml
rules: |
  path "app-sre/ci-ext/*" {
    capabilities = ["read"]
  }

  path "app-sre/creds/kube-configs/*" {
    capabilities = ["read"]
  }

  path "app-sre/creds/app-interface/*" {
    capabilities = ["read"]
  }

  path "app-sre/creds/github-app-sre-bot" {
    capabilities = ["read"]
  }

  path "app-sre/creds/github_api" {
    capabilities = ["read"]
  }

  path "app-sre/creds/slack-app-sre-groups" {
    capabilities = ["read"]
  }

  path "app-sre/creds/3scale-api" {
    capabilities = ["read"]
  }

  path "app-sre/integrations-output/aws-ecr-image-pull-secrets/*" {
    capabilities = ["read"]
  }

  path "app-sre/integrations-output/terraform-resources/*" {
    capabilities = ["read"]
  }

  path "app-sre/creds/terraform/app-sre/config" {
    capabilities = ["read"]
  }

  path "app-sre/ci-int/gitlab_pr_submitter" {
    capabilities = ["read"]
  }

  path "app-sre/quay/*" {
    capabilities = ["read"]
  }

  path "app-sre/image-builder/*" {
    capabilities = ["read"]
  }

  path "sd-uhc/ci-ext/*" {
    capabilities = ["read"]
  }

  path "insights/*" {
    capabilities = ["read"]
  }

  path "insights-cicd/*" {
    capabilities = ["read"]
  }

  path "osd-sre-cicd/ci-ext/*" {
    capabilities = ["read"]
  }

  path "osde2e/*" {
    capabilities = ["read"]
  }

  path "image-builder-ci/*" {
    capabilities = ["read"]
  }

  path "mt-sre/*" {
    capabilities = ["read"]
  }
  
  path "acs-fleet-manager-ci/*" {
    capabilities = ["read"]
  }
