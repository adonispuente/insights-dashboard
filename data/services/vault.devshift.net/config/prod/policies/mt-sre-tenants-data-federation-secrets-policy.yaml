---
$schema: /vault-config/policy-1.yml

labels:
  service: vault.devshift.net

name: "mt-sre-tenants-data-federation-secrets-policy"
instance:
  $ref: /services/vault.devshift.net/config/prod/devshift-net.yml
rules: |
  path "mt-sre/metadata" {
    capabilities = ["list"]
  }
  path "mt-sre/metadata/tenants" {
    capabilities = ["list"]
  }
  path "mt-sre/metadata/tenants/data-federation" {
    capabilities = ["list"]
  }
  path "mt-sre/data/tenants/data-federation/secrets/*" {
    capabilities = ["list", "create", "read", "update", "delete"]
  }
  path "mt-sre/metadata/tenants/data-federation/secrets/*" {
    capabilities = ["list", "create", "read", "update", "delete"]
  }
