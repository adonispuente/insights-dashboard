---
$schema: /vault-config/policy-1.yml

labels:
  service: vault.devshift.net

name: "stonesoup-approle-external-secrets-policy"
instance:
  $ref: /services/vault.devshift.net/config/prod/devshift-net.yml
rules: |
  path "stonesoup/metadata/production/external-secrets-operator/" {
    capabilities = ["read", "list"]
  }
  path "stonesoup/metadata/production/external-secrets-operator/*" {
    capabilities = ["read", "list"]
  }
  path "stonesoup/metadata/staging/external-secrets-operator/" {
    capabilities = ["read", "list"]
  }
  path "stonesoup/metadata/staging/external-secrets-operator/*" {
    capabilities = ["read", "list"]
  }
  path "stonesoup/data/production/external-secrets-operator/*" {
    capabilities = ["create", "update", "read", "list"]
  }
  path "stonesoup/data/staging/external-secrets-operator/*" {
    capabilities = ["create", "update", "read", "list"]
  }
