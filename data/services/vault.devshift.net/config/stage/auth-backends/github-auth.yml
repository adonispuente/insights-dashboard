---
$schema: /vault-config/auth-1.yml

labels:
  service: vault.devshift.net

instance:
  $ref: /services/vault.devshift.net/config/stage/stage-devshift-net.yml
  
_path: "github/"
type: "github"
description: "github auth backend"
settings:
  config:
    _type: "github"
    organization: "app-sre"
    base_url: "https://api.github.com/"
    max_ttl: "360h"
    ttl: "120h"
policy_mappings:
  - github_team:
      $ref: /dependencies/vault/permissions/devtools-osio.yml
    policies:
      - $ref: /services/vault.devshift.net/config/stage/policies/devtools-osio-ci-policy.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-sre.yml
    policies:
      - $ref: /services/vault.devshift.net/config/stage/policies/app-sre-policy.yml
  - github_team:
      $ref: /dependencies/vault/permissions/sd-uhc.yml
    policies:
      - $ref: /services/vault.devshift.net/config/stage/policies/sd-uhc-policy.yml
  - github_team:
      $ref: /dependencies/vault/permissions/sd-sre.yml
    policies:
      - $ref: /services/vault.devshift.net/config/stage/policies/osd-sre-policy.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-bayesian.yml
    policies:
      - $ref: /services/vault.devshift.net/config/stage/policies/app-interface-bayesian.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-cincinnati.yml
    policies:
      - $ref: /services/vault.devshift.net/config/stage/policies/app-interface-cincinnati.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-dsaas-keycloak.yml
    policies:
      - $ref: /services/vault.devshift.net/config/stage/policies/app-interface-dsaas-keycloak.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-dsaas.yml
    policies:
      - $ref: /services/vault.devshift.net/config/stage/policies/app-interface-dsaas.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-launchpad.yml
    policies:
      - $ref: /services/vault.devshift.net/config/stage/policies/app-interface-launchpad.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-telemeter.yml
    policies:
      - $ref: /services/vault.devshift.net/config/stage/policies/app-interface-telemeter.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-uhc.yml
    policies:
      - $ref: /services/vault.devshift.net/config/stage/policies/app-interface-uhc.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-telemeter-metering.yml
    policies:
      - $ref: /services/vault.devshift.net/config/stage/policies/app-interface-telemeter-metering.yml
