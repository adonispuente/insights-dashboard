---
$schema: /vault-config/policy-1.yml

labels:
  service: vault.devshift.net

name: "app-interface-dsaas-keycloak-policy"
instance:
  $ref: /services/vault.devshift.net/config/stage/stage-devshift-net.yml
rules: |
  path "app-interface/metadata/" {
    capabilities = ["list"]
  }
  path "app-interface/metadata/dsaas-stg/" {
    capabilities = ["list"]
  }
  path "app-interface/metadata/dsaas-stg/dsaas-keycloak-preview/" {
    capabilities = ["list"]
  }
  path "app-interface/metadata/dsaas-stg/dsaas-keycloak-preview/*" {
    capabilities = ["list", "read"]
  }
  path "app-interface/data/dsaas-stg/dsaas-keycloak-preview/*" {
    capabilities = ["create", "update", "read"]
  }
  path "app-interface/data/dsaas-stg/dsaas-keycloak-preview/routes" {
    capabilities = ["deny"]
  }
  path "app-interface/metadata/dsaas/" {
    capabilities = ["list"]
  }
  path "app-interface/metadata/dsaas/dsaas-keycloak/" {
    capabilities = ["list"]
  }
  path "app-interface/metadata/dsaas/dsaas-keycloak/*" {
    capabilities = ["list", "read"]
  }
  # path "app-interface/data/dsaas/dsaas-keycloak/*" {
  #   capabilities = ["create", "update", "read"]
  # }
