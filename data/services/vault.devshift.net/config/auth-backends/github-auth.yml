---
$schema: /vault-config/auth-1.yml

labels:
  service: vault.devshift.net

_path: "github/"
type: "github"
description: "github auth backend"
settings:
  config:
    _type: "github"
    organization: "app-sre"
    base_url: "https://api.github.com/"
    max_ttl: "24h"
    ttl: "12h"
policy_mappings:
  - github_team:
      $ref: /dependencies/vault/permissions/devtools-osio.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/devtools-osio-ci-policy.yml
  - github_team:
      $ref: /dependencies/vault/permissions/devtools-osio-admin.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/devtools-osio-ci-admin-policy.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-sre.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-sre-policy.yml
      - $ref: /services/vault.devshift.net/config/policies/vault-manager-policy.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-sre-interns.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-sre-interns-policy.yml
  - github_team:
      $ref: /dependencies/vault/permissions/sd-uhc.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/sd-uhc-policy.yml
  - github_team:
      $ref: /dependencies/vault/permissions/sd-sre.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/osd-sre-policy.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-bayesian.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-interface-bayesian.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-cincinnati.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-interface-cincinnati.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-quarkus.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-interface-quarkus.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-dsaas-keycloak.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-interface-dsaas-keycloak.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-dsaas.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-interface-dsaas.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-launchpad.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-interface-launchpad.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-telemeter.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-interface-telemeter.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-datahub.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-interface-datahub.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-uhc.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-interface-uhc.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-telemeter-metering.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-interface-telemeter-metering.yml
  - github_team:
      $ref: /dependencies/vault/permissions/osde2e.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/osde2e-policy.yml
  - github_team:
      $ref: /dependencies/vault/permissions/cs-sre.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/cs-sre-policy.yml
  - github_team:
      $ref: /dependencies/vault/permissions/cs-sre-aws.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/cs-sre-aws-policy.yml
  - github_team:
      $ref: /dependencies/vault/permissions/rhmi.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-interface-sendgrid.yml
  - github_team:
      $ref: /teams/insights/github-teams/vault-list-only.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/global-list-only-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/advisor.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/advisor-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/automation-analytics.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/automation-analytics-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/automation-hub.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/automation-hub-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/marketplace.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/marketplace-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/patchman.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/patchman-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/subscriptions.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/subscriptions-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/vulnerabilities.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/vulnerabilities-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/insights-qe.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/qe-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/insights-perf.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/perf-policy.yml
  - github_team:
      $ref: /dependencies/vault/permissions/quay-dev-team.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/quay-dev-team-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/approval.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/approval-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/catalog.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/catalog-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/ccx-data-pipeline.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/ccx-data-pipeline-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/cloudigrade.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/cloudigrade-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/compliance.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/compliance-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/module-update-router.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/module-update-router-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/drift.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/drift-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/resources.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/resources-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/engine.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/engine-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/entitlements.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/entitlements-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/backoffice-proxy.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/backoffice-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/gateway.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/gateway-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/hccm.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/hccm-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/historical-system-profiles.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/historical-system-profiles-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/host-inventory.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/host-inventory-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/ingress.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/ingress-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/insights-classic.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/insights-classic-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/payload-tracker.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/payload-tracker-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/policies.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/policies-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/rbac.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/rbac-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/receptor.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/receptor-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/remediations.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/remediations-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/rhsm.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/rhsm-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/sources.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/sources-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/system-baseline.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/system-baseline-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/topological-inventory.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/topological-inventory-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/uhc-auth-proxy.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/uhc-auth-proxy-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/xavier.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/xavier-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/xjoin.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/xjoin-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/insights-vault-admin.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-interface-insights.yml
      - $ref: /services/vault.devshift.net/config/policies/insights/insights-superuser-policy.yml
  - github_team:
      $ref: /teams/assisted-installer/github-teams/assisted-installer-vault-admin.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-interface-assisted-installer.yml
  - github_team:
      $ref: /teams/insights/github-teams/turnpike.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/turnpike-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/platform-docs.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/platform-docs-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/image-builder.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/image-builder-policy.yml
  - github_team:
      $ref: /dependencies/vault/permissions/managed-services.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/managed-services-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/pes.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/pes-policy.yml
