---
$schema: /vault-config/auth-1.yml

labels:
  service: vault.devshift.net

_path: "github/"
type: "github"
description: "github auth backend"
settings:
  config:
    _type: "github"
    organization: "app-sre"
    base_url: "https://api.github.com/"
    max_ttl: "24h"
    ttl: "12h"
policy_mappings:
  - github_team:
      $ref: /dependencies/vault/permissions/devtools-osio.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/devtools-osio-ci-policy.yml
  - github_team:
      $ref: /dependencies/vault/permissions/devtools-osio-admin.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/devtools-osio-ci-admin-policy.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-sre.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-sre-policy.yml
      - $ref: /services/vault.devshift.net/config/policies/vault-manager-policy.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-sre-interns.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-sre-interns-policy.yml
  - github_team:
      $ref: /dependencies/vault/permissions/sd-uhc.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/sd-uhc-policy.yml
  - github_team:
      $ref: /dependencies/vault/permissions/sd-sre.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/osd-sre-policy.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-bayesian.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-interface-bayesian.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-cincinnati.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-interface-cincinnati.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-quarkus.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-interface-quarkus.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-dsaas-keycloak.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-interface-dsaas-keycloak.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-dsaas.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-interface-dsaas.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-launchpad.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-interface-launchpad.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-telemeter.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-interface-telemeter.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-datahub.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-interface-datahub.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-uhc.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-interface-uhc.yml
  - github_team:
      $ref: /dependencies/vault/permissions/app-interface-telemeter-metering.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-interface-telemeter-metering.yml
  - github_team:
      $ref: /dependencies/vault/permissions/osde2e.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/osde2e-policy.yml
  - github_team:
      $ref: /dependencies/vault/permissions/cs-sre.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/cs-sre-policy.yml
  - github_team:
      $ref: /dependencies/vault/permissions/cs-sre-aws.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/cs-sre-aws-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/vault-list-only.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/global-list-only-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/advisor.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/advisor-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/automation-analytics.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/automation-analytics-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/automation-hub.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/automation-hub-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/marketplace.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/marketplace-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/patchman.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/patchman-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/subscriptions.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/subscriptions-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/vulnerabilities.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/vulnerabilities-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/insights-tools.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/app-interface-insights.yml
      - $ref: /services/vault.devshift.net/config/policies/insights/insights-superuser-policy.yml
  - github_team:
      $ref: /teams/insights/github-teams/insights-qe.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/insights/qe-policy.yml
  - github_team:
      $ref: /dependencies/vault/permissions/quay-dev-team.yml
    policies:
      - $ref: /services/vault.devshift.net/config/policies/quay-dev-team-policy.yml
