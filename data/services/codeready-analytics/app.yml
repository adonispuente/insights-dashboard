---
$schema: /app-sre/app-1.yml

labels:
  service: codeready-analytics

name: CodeReady-Analytics

description: |
  CodeReady Toolchain is an open online development environment for planning, creating, and deploying hybrid cloud services.

onboardingStatus: OnBoarded

serviceOwners:
- name: Devtools
  email: devtools-saas@redhat.com

performanceParameters:
  SLO: 90

dependencies:
- $ref: /dependencies/aws/service.yml
- $ref: /dependencies/ci-ext/service.yml
- $ref: /dependencies/github/service.yml
- $ref: /dependencies/quay/service.yml
- $ref: /dependencies/openshift/service.yml

sentryProjects:
- team:
    $ref: /dependencies/sentry/teams/codeready-analytics-stage.yml
  projects:
  - name: fabric8-analytics-stage
    description: Fabric8-Analytics Stage sentry error monitoring
    email_prefix: devtools-bayesian
    platform: python
  - name: osa-stage
    description: Openshift-Analytics Stage sentry error monitoring
    email_prefix: devtools-bayesian
    platform: python
- team:
    $ref: /dependencies/sentry/teams/codeready-analytics-production.yml
  projects:
  - name: fabric8-analytics-production
    description: Fabric8-Analytics Production sentry error monitoring
    email_prefix: devtools-bayesian
    platform: python
  - name: osa-production
    description: Openshift Analytics Production sentry error monitoring
    email_prefix: devtools-bayesian
    platform: python


quayRepos:
- org:
    $ref: /dependencies/quay/app-sre.yml
  teams:
  - permissions:
    - $ref: /dependencies/quay/permissions/quay-membership-app-sre-codeready-analytics.yml
    role: read
  items:
  - name: rhel-base-python3
    description: ''
    public: false
    # the mirror should eventually be replaced by a rhel image job
    # that is able to push to the app-sre quay organization
    # SEARCHME: rhel-images-quay-org-app-sre
    mirror:
      $ref: /dependencies/image-mirrors/quay.io/openshiftio/rhel-base-python3.yml
  - name: fabric8-analytics-f8a-server-backbone
    description: ''
    public: true
    # this mirror should be removed once all existing images are mirrored
    # this is in fact an automated migration of images
    mirror:
      $ref: /dependencies/image-mirrors/quay.io/openshiftio/fabric8-analytics-f8a-server-backbone.yml
  - name: rhel-fabric8-analytics-f8a-server-backbone
    description: ''
    public: false
    # this mirror should be removed once all existing images are mirrored
    # this is in fact an automated migration of images
    mirror:
      $ref: /dependencies/image-mirrors/quay.io/openshiftio/rhel-fabric8-analytics-f8a-server-backbone.yml

codeComponents:
- name: f8a-server-backbone
  resource: upstream
  url: https://github.com/fabric8-analytics/f8a-server-backbone
