---
$schema: /app-sre/app-1.yml

labels:
  service: codeready-analytics

name: CodeReady-Analytics

description: |
  CodeReady Toolchain is an open online development environment for planning, creating, and deploying hybrid cloud services.

architectureDocument: https://TODO
sopsUrl: https://gitlab.cee.redhat.com/TODO
grafanaUrl: https://TODO
onboardingStatus: OnBoarded

escalationPolicy:
  $ref: /teams/placeholder-escalation.yml
serviceOwners:
- name: Devtools
  email: devtools-saas@redhat.com

dependencies:
- $ref: /dependencies/aws/service.yml
- $ref: /dependencies/ci-ext/service.yml
- $ref: /dependencies/github/service.yml
- $ref: /dependencies/quay/service.yml
- $ref: /dependencies/openshift/service.yml

sentryProjects:
- team:
    $ref: /dependencies/sentry/teams/codeready-analytics-stage.yml
  projects:
  - name: fabric8-analytics-stage
    description: Fabric8-Analytics Stage sentry error monitoring
    email_prefix: devtools-bayesian
    platform: python
  - name: osa-stage
    description: Openshift-Analytics Stage sentry error monitoring
    email_prefix: devtools-bayesian
    platform: python
- team:
    $ref: /dependencies/sentry/teams/codeready-analytics-production.yml
  projects:
  - name: fabric8-analytics-production
    description: Fabric8-Analytics Production sentry error monitoring
    email_prefix: devtools-bayesian
    platform: python
  - name: osa-production
    description: Openshift Analytics Production sentry error monitoring
    email_prefix: devtools-bayesian
    platform: python


quayRepos:
- org:
    $ref: /dependencies/quay/app-sre.yml
  teams:
  - permissions:
    - $ref: /dependencies/quay/permissions/quay-membership-app-sre-codeready-analytics.yml
    role: read
  items:
  - name: rhel-base-python3
    description: ''
    public: false
    # the mirror should eventually be replaced by a rhel image job
    # that is able to push to the app-sre quay organization
    # SEARCHME: rhel-images-quay-org-app-sre
    mirror:
      $ref: /dependencies/image-mirrors/quay.io/openshiftio/rhel-base-python3.yml
  - name: fabric8-analytics-f8a-server-backbone
    description: ''
    public: true
  - name: fabric8-analytics-fabric8-gemini-server
    description: ''
    public: true
  - name: rhel-fabric8-analytics-f8a-server-backbone
    description: ''
    public: false
  - name: fabric8-analytics-f8a-worker-base
    description: ''
    public: true
  - name: rhel-fabric8-analytics-f8a-worker-base
    description: ''
    public: false
  - name: rhel-bayesian-cucos-worker
    description: ''
    public: false
  - name: bayesian-cucos-worker
    description: ''
    public: true
  - name: rhel-fabric8-analytics-f8a-stacks-report
    description: ''
    public: false
  - name: fabric8-analytics-f8a-stacks-report
    description: ''
    public: true
  - name: fabric8-analytics-bigquery-manifests-job-image
    description: Codeready analytics big query manifest job
    public: true
  - name: fabric8-analytics-f8a-pypi-insights
    description: Codeready Pypi insights service
    public: true
  - name: fabric8-analytics-f8a-hpf-insights
    description: Codeready HPF-Maven insights service
    public: true
  - name: fabric8-analytics-f8a-npm-insights
    description: Codeready NPM insights service
    public: true
  - name: f8a-e2e-tests
    description: codeready analytics End to End Test Image
    public: true
  - name: bayesian-gremlin
    description: gremlin docker
    public: true
  - name: fabric8-analytics-server
    description: fabric8-analytics-server
    public: true
  - name: f8a-license-analysis
    description: CRDA License Service
    public: true
  - name: rhel-base-fabric8-analytics-jobs
    description: ''
    public: false
  - name: bayesian-data-model-importer
    description: ''
    public: true
  - name: rhel-bayesian-coreapi-jobs
    description: ''
    public: false
  - name: bayesian-coreapi-jobs
    description: ''
    public: true
  - name: apicast
    description: ''
    public: true
    mirror:
      $ref: /dependencies/image-mirrors/quay.io/3scale/apicast.yml

codeComponents:
- name: f8a-server-backbone
  resource: upstream
  url: https://github.com/fabric8-analytics/f8a-server-backbone
- name: fabric8-analytics-worker-base
  resource: upstream
  url: https://github.com/fabric8-analytics/fabric8-analytics-worker-base
- name: fabric8-analytics-worker
  resource: upstream
  url: https://github.com/fabric8-analytics/fabric8-analytics-worker
- name: f8a-stacks-report
  resource: upstream
  url: https://github.com/fabric8-analytics/f8a-stacks-report
- name: fabric8-analytics-bigquery-manifests-job
  resource: upstream
  url: https://github.com/fabric8-analytics/fabric8-analytics-bigquery-manifests-job.git
- name: f8a-pypi-insights
  resource: upstream
  url: https://github.com/fabric8-analytics/f8a-pypi-insights
- name: f8a-hpf-insights
  resource: upstream
  url: https://github.com/fabric8-analytics/f8a-hpf-insights
- name: fabric8-gemini-server
  resource: upstream
  url: https://github.com/fabric8-analytics/fabric8-gemini-server
- name: fabric8-analytics-npm-insights
  resource: upstream
  url: https://github.com/fabric8-analytics/fabric8-analytics-npm-insights
- name: fabric8-analytics-common
  resource: upstream
  url: https://github.com/fabric8-analytics/fabric8-analytics-common
- name: gremlin-docker
  resource: upstream
  url: https://github.com/fabric8-analytics/gremlin-docker
- name: fabric8-analytics-server
  resource: upstream
  url: https://github.com/fabric8-analytics/fabric8-analytics-server
- name: bayesian-data-importer
  resource: upstream
  url: https://github.com/fabric8-analytics/fabric8-analytics-data-model
- name: f8a-license-analysis
  resource: upstream
  url: https://github.com/fabric8-analytics/fabric8-analytics-license-analysis
- name: fabric8-analytics-jobs
  resource: upstream
  url: https://github.com/fabric8-analytics/fabric8-analytics-jobs
- name: APIcast
  resource: upstream
  url: https://github.com/fabric8-analytics/APIcast
