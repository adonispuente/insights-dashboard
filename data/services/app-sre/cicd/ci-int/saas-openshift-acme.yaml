---
$schema: /app-sre/saas-file-1.yml

labels:
  service: app-sre

name: saas-openshift-acme
description: SaaS tracking file for openshift-acme

app:
  $ref: /services/app-sre/app.yml

instance:
  $ref: /dependencies/ci-int/ci-int.yml

slack:
  workspace:
    $ref: /dependencies/slack/coreos.yml
  channel: sd-app-sre-info

managedResourceTypes:
- Deployment
- ConfigMap
- ServiceAccount
- Role
- RoleBinding

imagePatterns:
- quay.io/app-sre/openshift-acme

resourceTemplates:
- name: openshift-acme
  url: https://github.com/app-sre/openshift-acme-templates
  path: /openshift/openshift-acme.template.yaml
  parameters:
    IMAGE: quay.io/app-sre/openshift-acme
    CONTROLLER_IMAGE_TAG: controller
    EXPOSER_IMAGE_TAG: exposer
  targets:
  # App SRE
  - namespace:
      $ref: /services/visual-app-interface.devshift.net/namespaces/visual-qontract-stage.yml
    ref: master
  - namespace:
      $ref: /services/app-interface/namespaces/app-interface-stage.yml
    ref: master
  - namespace:
      $ref: /services/github-mirror/namespaces/github-mirror-stage.yaml
    ref: master
  - namespace:
      $ref: /services/observability/namespaces/app-sre-observability-stage.yml
    ref: master
  # Sentry
  - namespace:
      $ref: /services/sentry/namespaces/sentry-stage.yaml
    ref: master
  # Unleash
  - namespace:
      $ref: /services/unleash/namespaces/app-sre-stage-01.yml
    ref: master
  # Vault
  - namespace:
      $ref: /services/vault.devshift.net/namespaces/vault-stage.yml
    ref: master
  # per-cluster observability namespaces
  - namespace:
      $ref: /openshift/app-sre-prod-03/namespaces/app-sre-observability-per-cluster.yml
    ref: 121c829cab41bc53a9f896e8475ce0b42c5020b6
  - namespace:
      $ref: /openshift/app-sre-stage-01/namespaces/app-sre-observability-per-cluster.yml
    ref: master
  - namespace:
      $ref: /openshift/app-sre-stage-02/namespaces/app-sre-observability-per-cluster.yml
    ref: master
  - namespace:
      $ref: /openshift/codereadyi01ue1/namespaces/app-sre-observability-per-cluster.yml
    ref: master
  - namespace:
      $ref: /openshift/crc-stg-01/namespaces/app-sre-observability-per-cluster.yml
    ref: master
  - namespace:
      $ref: /openshift/crcp01ue1/namespaces/app-sre-observability-per-cluster.yml
    ref: 121c829cab41bc53a9f896e8475ce0b42c5020b6
  - namespace:
      $ref: /openshift/hive-stage-01/namespaces/app-sre-observability-per-cluster.yml
    ref: master
  - namespace:
      $ref: /openshift/quay-s-ue1/namespaces/app-sre-observability-per-cluster.yml
    ref: master
  - namespace:
      $ref: /openshift/quayio-stage/namespaces/app-sre-observability-per-cluster.yml
    ref: master
  - namespace:
      $ref: /openshift/quays02ue1/namespaces/app-sre-observability-per-cluster.yml
    ref: master
  # Code Quarkus
  - namespace:
      $ref: /services/launcher/namespaces/code-quarkus-redhat-int-build.yml
    ref: master
  - namespace:
      $ref: /services/launcher/namespaces/code-quarkus-redhat-stage.yml
    ref: master
  - namespace:
      $ref: /services/launcher/namespaces/code-quarkus-stage.yml
    ref: master
  # Telemeter
  - namespace:
      $ref: /services/telemeter/namespaces/telemeter-stage.yml
    ref: master
