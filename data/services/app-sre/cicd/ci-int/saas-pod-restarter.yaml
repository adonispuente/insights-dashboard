---
$schema: /app-sre/saas-file-2.yml

labels:
  service: app-sre

name: saas-pod-restarter
description: SaaS tracking file for pod-restarter

app:
  $ref: /services/app-sre/app.yml

pipelinesProvider:
  $ref: /services/app-interface/pipelines/tekton.app-sre-pipelines.appsrep05ue1.yaml

slack:
  workspace:
    $ref: /dependencies/slack/coreos.yml
  channel: sd-app-sre-info

managedResourceTypes:
- ServiceAccount
- Role
- RoleBinding
- Deployment

imagePatterns:
- quay.io/openshift/origin-cli

resourceTemplates:
- name: pod-restarter
  # using my own (mafriedm) gitlab project to indicate that this is not a supported tool
  # and only a temporary solution for v3 hives, which are going away soon
  url: https://gitlab.cee.redhat.com/mafriedm/pod-restarter
  path: /template.yml
  targets:
  # hive-stage
  - namespace:
      $ref: /services/hive/namespaces/hive-stage.yml
    ref: master
  - namespace:
      $ref: /services/osd-operators/namespaces/olm-stage.yml
    ref: master
  - namespace:
      $ref: /services/osd-operators/namespaces/aws-account-operator-stage.yml
    ref: master
  - namespace:
      $ref: /services/osd-operators/namespaces/gcp-project-operator-stage.yml
    ref: master
