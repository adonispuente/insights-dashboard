---
$schema: /openshift/namespace-1.yml

labels: {}

name: dev-steahan
description: namespace for steahan@ to test RDS upgrades

cluster:
  $ref: /openshift/app-sre-stage-01/cluster.yml

app:
  $ref: /services/app-sre/app.yml

environment:
  $ref: /products/app-sre/environments/stage.yml

managedTerraformResources: true

terraformResources:
- provider: rds
  account: app-sre-stage
  identifier: dev-steahan
  defaults: /terraform/resources/app-sre-stage/staging/steahan-rds-defaults.yml
  overrides:
    engine_version: '12.8'
    name: 'postgres'

- provider: rds
  account: app-sre-stage
  identifier: dev-steahan-restore
  defaults: /terraform/resources/app-sre-stage/staging/steahan-rds-defaults.yml
  overrides:
    engine_version: '12.8'
    restore_to_point_in_time:
      restore_time: '2022-06-01T20:43:00Z'
      source_db_instance_identifier: dev-steahan

