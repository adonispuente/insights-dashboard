---
$schema: /openshift/namespace-1.yml

labels:
  service: ocm-quay

name: ocm-quay
description: read-only namespace for ocm-quay

cluster:
  $ref: /openshift/ocmquayrop01ew1/cluster.yml

app:
  $ref: /services/ocm-quay/app.yml

environment:
  $ref: /products/ocm-quay/environments/read-only.yml

networkPoliciesAllow:
- $ref: /services/observability/namespaces/openshift-customer-monitoring.ocmquayrop01ew1.yml

managedRoles: true

managedTerraformResources: true

managedResourceTypes:
- NetworkPolicy
- Secret 

sharedResources:
- $ref: /services/ocm-quay/shared-resources/common.yml
- $ref: /services/ocm-quay/shared-resources/read-only.yml

openshiftResources: []

terraformResources:
- provider: rds
  account: ocm-quay
  identifier: ocmquayrop01ew1
  availability_zone: eu-west-1a
  defaults: /terraform/resources/ocm-quay/rds-read-replica-eu-west-1.yml
  parameter_group: /terraform/resources/ocm-quay/rds-parameter-group-read-replica-1.yml
  overrides:
    kms_key_id: ocmquayrop01ew1
  replica_source: ocm-quay-production
- provider: kms
  account: ocm-quay
  identifier: ocmquayrop01ew1
  region: eu-west-1
  defaults: /terraform/resources/ocm-quay/kms-1.yml
  output_resource_name: ocm-quay-kms

