$schema: /app-sre/saas-file-target-1.yml

namespace:
  $ref: /services/assisted-installer/namespaces/assisted-installer-production.yml
ref: 539f22e47dd2f23bac01e2e614c3cd01e3db9671
promotion:
  publish:
  - assisted-installer-production-deploy-success-channel
parameters:
  HW_VALIDATOR_REQUIREMENTS: |
    [{
        "version": "default",
        "master": {
          "cpu_cores": 4,
          "ram_mib": 16384,
          "disk_size_gb": 100,
          "installation_disk_speed_threshold_ms": 10,
          "network_latency_threshold_ms": 100,
          "packet_loss_percentage": 0
        },
        "worker": {
          "cpu_cores": 2,
          "ram_mib": 8192,
          "disk_size_gb": 100,
          "installation_disk_speed_threshold_ms": 10,
          "network_latency_threshold_ms": 1000,
          "packet_loss_percentage": 10
        },
        "sno": {
          "cpu_cores": 8,
          "ram_mib": 15360,
          "disk_size_gb": 100,
          "installation_disk_speed_threshold_ms": 10
        },
        "edge-worker": {
          "cpu_cores": 2,
          "ram_mib": 8192,
          "disk_size_gb": 15,
          "installation_disk_speed_threshold_ms": 10
        }
      }]
  INSTALL_RH_CA: false
  BASE_DNS_DOMAINS: "" # Emphasize the fact that route53 is disabled on prod.
  # CONSOLE_BASE_URL is defined at the environment parameters level
  ALLOWED_DOMAINS: ${CONSOLE_BASE_URL},https://cloud.redhat.com
  INSTALLER_IMAGE: registry.redhat.io/rhai-tech-preview/assisted-installer-rhel8:v1.0.0-286
  CONTROLLER_IMAGE: registry.redhat.io/rhai-tech-preview/assisted-installer-reporter-rhel8:v1.0.0-359
  AGENT_DOCKER_IMAGE: registry.redhat.io/rhai-tech-preview/assisted-installer-agent-rhel8:v1.0.0-279
  OPENSHIFT_INSTALL_RELEASE_IMAGE: ""
  PUBLIC_CONTAINER_REGISTRIES: quay.io
  RELEASE_TAG: v2.24.1
  OS_IMAGES: |-
    [
      {
        "openshift_version": "4.9",
        "cpu_architecture": "x86_64",
        "url": "https://mirror.openshift.com/pub/openshift-v4/x86_64/dependencies/rhcos/4.9/4.9.45/rhcos-4.9.45-x86_64-live.x86_64.iso",
        "version": "49.84.202207192205-0"
      },
      {
        "openshift_version": "4.10",
        "cpu_architecture": "x86_64",
        "url": "https://mirror.openshift.com/pub/openshift-v4/x86_64/dependencies/rhcos/4.10/4.10.37/rhcos-4.10.37-x86_64-live.x86_64.iso",
        "version": "410.84.202210040010-0"
      },
      {
        "openshift_version": "4.10",
        "cpu_architecture": "arm64",
        "url": "https://mirror.openshift.com/pub/openshift-v4/aarch64/dependencies/rhcos/4.10/4.10.37/rhcos-4.10.37-aarch64-live.aarch64.iso",
        "version": "410.84.202210040011-0"
      },
      {
        "openshift_version": "4.11",
        "cpu_architecture": "x86_64",
        "url": "https://mirror.openshift.com/pub/openshift-v4/x86_64/dependencies/rhcos/4.11/4.11.9/rhcos-4.11.9-x86_64-live.x86_64.iso",
        "version": "411.86.202210041459-0"
      },
      {
        "openshift_version": "4.11",
        "cpu_architecture": "arm64",
        "url": "https://mirror.openshift.com/pub/openshift-v4/aarch64/dependencies/rhcos/4.11/4.11.9/rhcos-4.11.9-aarch64-live.aarch64.iso",
        "version": "411.86.202210032347-0"
      },
      {
        "openshift_version": "4.12",
        "cpu_architecture": "x86_64",
        "url": "https://mirror.openshift.com/pub/openshift-v4/x86_64/dependencies/rhcos/4.12/4.12.17/rhcos-4.12.17-x86_64-live.x86_64.iso",
        "version": "412.86.202305030814-0"
      },
      {
        "openshift_version": "4.12",
        "cpu_architecture": "arm64",
        "url": "https://mirror.openshift.com/pub/openshift-v4/aarch64/dependencies/rhcos/4.12/4.12.17/rhcos-4.12.17-aarch64-live.aarch64.iso",
        "version": "412.86.202305030814-0"
      },
      {
        "openshift_version": "4.13",
        "cpu_architecture": "x86_64",
        "url": "https://mirror.openshift.com/pub/openshift-v4/x86_64/dependencies/rhcos/4.13/4.13.5/rhcos-4.13.5-x86_64-live.x86_64.iso",
        "version": "413.92.202306140611-0"
      },
      {
        "openshift_version": "4.13",
        "cpu_architecture": "arm64",
        "url": "https://mirror.openshift.com/pub/openshift-v4/aarch64/dependencies/rhcos/4.13/4.13.5/rhcos-4.13.5-aarch64-live.aarch64.iso",
        "version": "413.92.202306140611-0"
      },
      {
        "openshift_version": "4.13",
        "cpu_architecture": "ppc64le",
        "url": "https://mirror.openshift.com/pub/openshift-v4/ppc64le/dependencies/rhcos/4.13/4.13.5/rhcos-4.13.5-ppc64le-live.ppc64le.iso",
        "version": "413.92.202306140611-0"
      },
      {
        "openshift_version": "4.13",
        "cpu_architecture": "s390x",
        "url": "https://mirror.openshift.com/pub/openshift-v4/s390x/dependencies/rhcos/4.13/4.13.5/rhcos-4.13.5-s390x-live.s390x.iso",
        "version": "413.92.202306140611-0"
      },
      {
        "openshift_version": "4.14",
        "cpu_architecture": "x86_64",
        "url": "https://mirror.openshift.com/pub/openshift-v4/x86_64/dependencies/rhcos/pre-release/4.14.0-ec.2/rhcos-4.14.0-ec.2-x86_64-live.x86_64.iso",
        "version": "414.92.202305090606-0"
      },
      {
        "openshift_version": "4.14",
        "cpu_architecture": "arm64",
        "url": "https://mirror.openshift.com/pub/openshift-v4/aarch64/dependencies/rhcos/pre-release/4.14.0-ec.2/rhcos-4.14.0-ec.2-aarch64-live.aarch64.iso",
        "version": "414.92.202305090606-0"
      },
      {
        "openshift_version": "4.14",
        "cpu_architecture": "ppc64le",
        "url": "https://mirror.openshift.com/pub/openshift-v4/ppc64le/dependencies/rhcos/pre-release/4.14.0-ec.2/rhcos-4.14.0-ec.2-ppc64le-live.ppc64le.iso",
        "version": "414.92.202305090606-0"
      },
      {
        "openshift_version": "4.14",
        "cpu_architecture": "s390x",
        "url": "https://mirror.openshift.com/pub/openshift-v4/s390x/dependencies/rhcos/pre-release/4.14.0-ec.2/rhcos-4.14.0-ec.2-s390x-live.s390x.iso",
        "version": "414.92.202305090606-0"
      }
    ]
  RELEASE_IMAGES: |-
    [
      {
        "openshift_version": "4.9.9",
        "cpu_architecture": "x86_64",
        "url": "quay.io/openshift-release-dev/ocp-release:4.9.9-x86_64",
        "version": "4.9.9"
      },
      {
        "openshift_version": "4.9.13",
        "cpu_architecture": "x86_64",
        "url": "quay.io/openshift-release-dev/ocp-release:4.9.13-x86_64",
        "version": "4.9.13"
      },
      {
        "openshift_version": "4.9.17",
        "cpu_architecture": "x86_64",
        "url": "quay.io/openshift-release-dev/ocp-release:4.9.17-x86_64",
        "version": "4.9.17"
      },
      {
        "openshift_version": "4.10.38",
        "cpu_architecture": "x86_64",
        "url": "quay.io/openshift-release-dev/ocp-release:4.10.38-x86_64",
        "version": "4.10.38",
        "cpu_architectures": [
          "x86_64"
        ]
      },
      {
        "openshift_version": "4.10.45",
        "cpu_architecture": "x86_64",
        "url": "quay.io/openshift-release-dev/ocp-release:4.10.45-x86_64",
        "version": "4.10.45",
        "cpu_architectures": [
          "x86_64"
        ]
      },
      {
        "openshift_version": "4.10",
        "cpu_architecture": "x86_64",
        "url": "quay.io/openshift-release-dev/ocp-release:4.10.66-x86_64",
        "version": "4.10.66",
        "cpu_architectures": [
          "x86_64"
        ]
      },
      {
        "openshift_version": "4.10",
        "cpu_architecture": "arm64",
        "url": "quay.io/openshift-release-dev/ocp-release:4.10.66-aarch64",
        "version": "4.10.66",
        "cpu_architectures": [
          "arm64"
        ]
      },
      {
        "openshift_version": "4.11.9-multi",
        "cpu_architecture": "multi",
        "cpu_architectures": [
          "x86_64",
          "arm64"
        ],
        "url": "quay.io/openshift-release-dev/ocp-release:4.11.9-multi",
        "version": "4.11.9-multi"
      },
      {
        "openshift_version": "4.11",
        "cpu_architecture": "x86_64",
        "url": "quay.io/openshift-release-dev/ocp-release:4.11.47-x86_64",
        "version": "4.11.47",
        "cpu_architectures": [
          "x86_64"
        ]
      },
      {
        "openshift_version": "4.11",
        "cpu_architecture": "arm64",
        "url": "quay.io/openshift-release-dev/ocp-release:4.11.47-aarch64",
        "version": "4.11.47",
        "cpu_architectures": [
          "arm64"
        ]
      },
      {
        "openshift_version": "4.11.13-multi",
        "cpu_architecture": "multi",
        "cpu_architectures": [
          "x86_64",
          "arm64"
        ],
        "url": "quay.io/openshift-release-dev/ocp-release:4.11.13-multi",
        "version": "4.11.13-multi"
      },
      {
        "openshift_version": "4.12.0",
        "cpu_architecture": "x86_64",
        "cpu_architectures": [
          "x86_64"
        ],
        "url": "quay.io/openshift-release-dev/ocp-release:4.12.0-x86_64",
        "version": "4.12.0"
      },
      {
        "openshift_version": "4.12",
        "cpu_architecture": "x86_64",
        "cpu_architectures": [
          "x86_64"
        ],
        "url": "quay.io/openshift-release-dev/ocp-release:4.12.30-x86_64",
        "version": "4.12.30"
      },
      {
        "openshift_version": "4.12",
        "cpu_architecture": "arm64",
        "cpu_architectures": [
          "arm64"
        ],
        "url": "quay.io/openshift-release-dev/ocp-release:4.12.30-aarch64",
        "version": "4.12.30"
      },
      {
        "openshift_version": "4.12-multi",
        "cpu_architecture": "multi",
        "cpu_architectures": [
          "x86_64",
          "arm64"
        ],
        "url": "quay.io/openshift-release-dev/ocp-release:4.12.30-multi",
        "version": "4.12.30-multi"
      },
      {
        "openshift_version": "4.13",
        "default": true,
        "cpu_architecture": "x86_64",
        "cpu_architectures": [
          "x86_64"
        ],
        "url": "quay.io/openshift-release-dev/ocp-release:4.13.9-x86_64",
        "version": "4.13.9"
      },
      {
        "openshift_version": "4.13",
        "cpu_architecture": "arm64",
        "cpu_architectures": [
          "arm64"
        ],
        "url": "quay.io/openshift-release-dev/ocp-release:4.13.9-aarch64",
        "version": "4.13.9"
      },
      {
        "openshift_version": "4.13",
        "cpu_architecture": "ppc64le",
        "cpu_architectures": [
          "ppc64le"
        ],
        "url": "quay.io/openshift-release-dev/ocp-release:4.13.9-ppc64le",
        "version": "4.13.9"
      },
      {
        "openshift_version": "4.13",
        "cpu_architecture": "s390x",
        "cpu_architectures": [
          "s390x"
        ],
        "url": "quay.io/openshift-release-dev/ocp-release:4.13.9-s390x",
        "version": "4.13.9"
      },
      {
        "openshift_version": "4.13-multi",
        "cpu_architecture": "multi",
        "cpu_architectures": [
          "x86_64",
          "arm64"
        ],
        "url": "quay.io/openshift-release-dev/ocp-release:4.13.9-multi",
        "version": "4.13.9-multi"
      },
      {
        "openshift_version": "4.14",
        "cpu_architecture": "x86_64",
        "cpu_architectures": [
          "x86_64"
        ],
        "url": "quay.io/openshift-release-dev/ocp-release:4.14.0-ec.4-x86_64",
        "support_level": "beta",
        "version": "4.14.0-ec.4"
      },
      {
        "openshift_version": "4.14",
        "cpu_architecture": "arm64",
        "cpu_architectures": [
          "arm64"
        ],
        "url": "quay.io/openshift-release-dev/ocp-release:4.14.0-ec.4-aarch64",
        "support_level": "beta",
        "version": "4.14.0-ec.4"
      },
      {
        "openshift_version": "4.14",
        "cpu_architecture": "ppc64le",
        "cpu_architectures": [
          "ppc64le"
        ],
        "url": "quay.io/openshift-release-dev/ocp-release:4.14.0-ec.4-ppc64le",
        "support_level": "beta",
        "version": "4.14.0-ec.4"
      },
      {
        "openshift_version": "4.14",
        "cpu_architecture": "s390x",
        "cpu_architectures": [
          "s390x"
        ],
        "url": "quay.io/openshift-release-dev/ocp-release:4.14.0-ec.4-s390x",
        "support_level": "beta",
        "version": "4.14.0-ec.4"
      },
      {
        "openshift_version": "4.14-multi",
        "cpu_architecture": "multi",
        "cpu_architectures": [
          "x86_64",
          "arm64"
        ],
        "url": "quay.io/openshift-release-dev/ocp-release:4.14.0-ec.4-multi",
        "support_level": "beta",
        "version": "4.14.0-ec.4-multi"
      }
    ]
  REGISTRY_CREDS: ""
  AGENT_TIMEOUT_START: 30m
  DISABLED_HOST_VALIDATIONS: sufficient-network-latency-requirement-for-role,has-default-route
  ENABLE_AUTO_ASSIGN: true
  ENABLE_ORG_TENANCY: false
  ENABLE_UPGRADE_AGENT: true
  IMAGE_SERVICE_BASE_URL: ${OCM_BASE_URL}/api/assisted-images
  ENABLE_ORG_BASED_FEATURE_GATES: true
  ENABLE_EVENT_STREAMING: true
  KAFKA_BOOTSTRAP_SERVER_SECRET_KEY: bootstrap_brokers_sasl_scram
  KAFKA_BOOTSTRAP_SERVER_SECRET_NAME: assisted-installer-msk
  KAFKA_USERNAME_SECRET_KEY: username
  KAFKA_USERNAME_SECRET_NAME: msk-write-user
  KAFKA_PASSWORD_SECRET_KEY: password
  KAFKA_PASSWORD_SECRET_NAME: msk-write-user
  KAFKA_SASL_MECHANISM: SCRAM
  KAFKA_EVENT_STREAM_TOPIC: events-stream-production
  EPHEMERAL_STORAGE_LIMIT: 35Gi
  EPHEMERAL_STORAGE_REQUEST: 32Gi
  MEMORY_REQUEST: "2.55G"
  MEMORY_LIMIT: "3.82G"
  CPU_LIMIT: "8"
  CPU_REQUEST: "100m"
