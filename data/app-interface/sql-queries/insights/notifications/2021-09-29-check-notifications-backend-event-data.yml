---
$schema: /app-interface/app-interface-sql-query-1.yml
labels: {}
name: 2021-09-29-check-notifications-backend-event-data
namespace:
  $ref: /services/insights/notifications/namespaces/notifications-prod.yml
identifier: notifications-backend-prod
output: stdout
queries:
  # Check that the notification_history.event_id field is never null before adding a not null constraint.
  - "select count(id) from notification_history where event_id is null;"
  # Check that the event.event_type_id field is never null before adding a not null constraint.
  - "select count(id) from event where event_type_id is null;"
