---
$schema: /app-interface/app-interface-sql-query-1.yml
labels: {}
name: clair-matcher-vuln-query-check-prod
namespace:
  $ref: /services/clair/namespaces/production.yml
identifier: clair-matcher
output: stdout
queries:
  - |
    EXPLAIN ANALYSE
    SELECT "id", "name", "description", "issued", "links", "severity", "normalized_severity", "package_name", "package_version", "package_module", "package_arch", "package_kind", "dist_id", "dist_name", "dist_version", "dist_version_code_name", "dist_version_id", "dist_arch", "dist_cpe", "dist_pretty_name", "arch_operation", "repo_name", "repo_key", "repo_uri", "fixed_in_version", "updater" FROM "vuln" INNER JOIN "uo_vuln" ON ("vuln"."id" = "uo_vuln"."vuln") WHERE ((("package_name" = 'pip') AND ("package_kind" = 'binary')) AND ("repo_name" = 'pypi') AND ("uo" IN (48930, 48916, 48937, 56049, 103674, 112820, 112821, 132208, 132210, 117, 48941, 48924, 48931, 48921, 48940, 48925, 48918, 55722, 55724, 112576, 112568, 132230, 132232, 132231, 132209, 48936, 48929, 48942, 48928, 48935, 48919, 48917, 132148, 132233, 54675, 54676, 54671, 54672, 133985, 122722, 133943, 133942, 133938, 133937, 133935, 54667, 8, 1, 10, 3, 5, 9, 2, 4, 14, 7, 19, 6, 34, 12, 22839, 90713, 133978, 133970, 133973, 133976, 133971, 133972, 133983, 133979, 133968, 133982, 133977, 133975, 133981, 133974, 133969, 129546, 129549, 129550, 129574, 72527, 72479, 133344, 72509, 133368, 133084, 133458, 72512, 72507, 72526, 329, 172, 133470, 133314, 133512, 133790, 133345, 133285, 133315, 133189, 133486, 133515, 220, 2079, 133507, 133277, 133444, 133260, 133318, 133350, 133521, 133373, 133503, 133461, 133432, 133418, 133288, 133514, 133381, 133159, 133405, 133310, 133077, 133184, 133992, 133439, 133301, 133471, 196, 132839, 133306, 133420, 133516, 133487, 139, 133100, 133332, 133502, 3457, 74, 103, 133338, 133131, 133524, 133859, 201, 232, 133520, 133247, 133279, 133454, 133517, 133389, 133361, 133354, 133302, 133333, 133271, 133287, 133357, 133263, 133451, 133311, 133369, 133433, 133207, 133316, 133265, 133460, 133280, 133430, 133358, 133867, 133865, 133319, 133317, 133415, 133791, 133254, 133437, 133334, 133303, 339, 160, 133363, 133307, 133050, 133180, 133445, 133320, 133424, 133473, 133870, 133093, 133431, 133051, 133395, 133060, 133425, 133035, 133370, 133068, 133477, 133115, 133509, 133224, 133434, 133055, 133523, 133289, 133335, 133488, 14207, 133478, 133292, 133359, 133435, 133991, 133308, 133312, 133447, 133980, 133494, 133436, 133397, 133462, 198, 25, 210, 183, 133339, 133376, 133273, 133128, 133463, 133890, 133455, 133475, 133304, 133111, 133426, 133163, 133441, 133201, 43, 109, 133286, 133438, 133466, 133440, 133328, 133401, 133250, 133406, 133467, 133484, 133352, 133252, 133267, 133366, 133508, 133497, 133322, 133298, 133510, 133496, 133374, 133255, 133407, 133489, 133452, 133989, 133479, 133120, 133293, 133185, 133499, 133909, 133453, 133518, 133346, 133504, 133456, 133248, 133290, 133321, 133266, 133417, 133457, 133268, 133364, 126776, 133330, 133815, 133468, 149, 133349, 133360, 133448, 340, 130, 318, 133356, 133498, 133379, 133241, 133450, 133257, 133340, 133309, 133525, 133869, 133429, 133988, 133472, 133393, 56988, 56975, 133421, 133398, 133272, 133259, 133480, 133399, 133249, 133264, 133493, 133511, 133325, 32795, 133427, 133469, 133394, 133294, 133965, 133449, 133341, 130282, 133347, 133336, 133377, 133387, 133984, 133365, 133269, 133442, 133872, 133490, 133412, 133384, 133500, 133351, 133342, 133380, 133261, 43551, 130176, 56985, 130155, 82435, 130151, 133443, 133481, 133378, 133385, 133883, 133348, 133882, 133400, 68177, 70343, 132807, 133888, 225, 212, 133876, 133372, 133355, 133474, 133464, 133465, 133323, 133324, 133256, 133297, 133414, 133382, 133853, 133878, 133864, 133862, 133856, 133855, 133851, 133871, 133990, 320, 15, 150, 29, 133326, 133483, 133299, 133413, 133353, 133295, 133423, 133506, 65, 18, 148, 133343, 133409, 133283, 133274, 133383, 133331, 133300, 133846, 49042, 132947, 56981, 56971, 133501, 133313, 49026, 133785, 133391, 49029, 133485, 133526, 133403, 133390, 130281, 133861, 96250, 133367, 133875, 133863, 133866, 133873, 133868, 133860, 133986, 133386, 133327, 133519, 133262, 133404, 133305, 133987, 349, 347, 351, 353, 350, 54682, 91, 54684, 54683, 133963, 133961, 133959, 132772, 133951, 133960, 133962, 54681)));
  - |
    EXPLAIN ANALYSE
    SELECT "id", "name", "description", "issued", "links", "severity", "normalized_severity", "package_name", "package_version", "package_module", "package_arch", "package_kind", "dist_id", "dist_name", "dist_version", "dist_version_code_name", "dist_version_id", "dist_arch", "dist_cpe", "dist_pretty_name", "arch_operation", "repo_name", "repo_key", "repo_uri", "fixed_in_version", "updater" FROM "uo_vuln" INNER JOIN "vuln" ON ("vuln"."id" = "uo_vuln"."vuln") WHERE ((("package_name" = 'pip') AND ("package_kind" = 'binary')) AND ("repo_name" = 'pypi') AND ("uo" IN (48930, 48916, 48937, 56049, 103674, 112820, 112821, 132208, 132210, 117, 48941, 48924, 48931, 48921, 48940, 48925, 48918, 55722, 55724, 112576, 112568, 132230, 132232, 132231, 132209, 48936, 48929, 48942, 48928, 48935, 48919, 48917, 132148, 132233, 54675, 54676, 54671, 54672, 133985, 122722, 133943, 133942, 133938, 133937, 133935, 54667, 8, 1, 10, 3, 5, 9, 2, 4, 14, 7, 19, 6, 34, 12, 22839, 90713, 133978, 133970, 133973, 133976, 133971, 133972, 133983, 133979, 133968, 133982, 133977, 133975, 133981, 133974, 133969, 129546, 129549, 129550, 129574, 72527, 72479, 133344, 72509, 133368, 133084, 133458, 72512, 72507, 72526, 329, 172, 133470, 133314, 133512, 133790, 133345, 133285, 133315, 133189, 133486, 133515, 220, 2079, 133507, 133277, 133444, 133260, 133318, 133350, 133521, 133373, 133503, 133461, 133432, 133418, 133288, 133514, 133381, 133159, 133405, 133310, 133077, 133184, 133992, 133439, 133301, 133471, 196, 132839, 133306, 133420, 133516, 133487, 139, 133100, 133332, 133502, 3457, 74, 103, 133338, 133131, 133524, 133859, 201, 232, 133520, 133247, 133279, 133454, 133517, 133389, 133361, 133354, 133302, 133333, 133271, 133287, 133357, 133263, 133451, 133311, 133369, 133433, 133207, 133316, 133265, 133460, 133280, 133430, 133358, 133867, 133865, 133319, 133317, 133415, 133791, 133254, 133437, 133334, 133303, 339, 160, 133363, 133307, 133050, 133180, 133445, 133320, 133424, 133473, 133870, 133093, 133431, 133051, 133395, 133060, 133425, 133035, 133370, 133068, 133477, 133115, 133509, 133224, 133434, 133055, 133523, 133289, 133335, 133488, 14207, 133478, 133292, 133359, 133435, 133991, 133308, 133312, 133447, 133980, 133494, 133436, 133397, 133462, 198, 25, 210, 183, 133339, 133376, 133273, 133128, 133463, 133890, 133455, 133475, 133304, 133111, 133426, 133163, 133441, 133201, 43, 109, 133286, 133438, 133466, 133440, 133328, 133401, 133250, 133406, 133467, 133484, 133352, 133252, 133267, 133366, 133508, 133497, 133322, 133298, 133510, 133496, 133374, 133255, 133407, 133489, 133452, 133989, 133479, 133120, 133293, 133185, 133499, 133909, 133453, 133518, 133346, 133504, 133456, 133248, 133290, 133321, 133266, 133417, 133457, 133268, 133364, 126776, 133330, 133815, 133468, 149, 133349, 133360, 133448, 340, 130, 318, 133356, 133498, 133379, 133241, 133450, 133257, 133340, 133309, 133525, 133869, 133429, 133988, 133472, 133393, 56988, 56975, 133421, 133398, 133272, 133259, 133480, 133399, 133249, 133264, 133493, 133511, 133325, 32795, 133427, 133469, 133394, 133294, 133965, 133449, 133341, 130282, 133347, 133336, 133377, 133387, 133984, 133365, 133269, 133442, 133872, 133490, 133412, 133384, 133500, 133351, 133342, 133380, 133261, 43551, 130176, 56985, 130155, 82435, 130151, 133443, 133481, 133378, 133385, 133883, 133348, 133882, 133400, 68177, 70343, 132807, 133888, 225, 212, 133876, 133372, 133355, 133474, 133464, 133465, 133323, 133324, 133256, 133297, 133414, 133382, 133853, 133878, 133864, 133862, 133856, 133855, 133851, 133871, 133990, 320, 15, 150, 29, 133326, 133483, 133299, 133413, 133353, 133295, 133423, 133506, 65, 18, 148, 133343, 133409, 133283, 133274, 133383, 133331, 133300, 133846, 49042, 132947, 56981, 56971, 133501, 133313, 49026, 133785, 133391, 49029, 133485, 133526, 133403, 133390, 130281, 133861, 96250, 133367, 133875, 133863, 133866, 133873, 133868, 133860, 133986, 133386, 133327, 133519, 133262, 133404, 133305, 133987, 349, 347, 351, 353, 350, 54682, 91, 54684, 54683, 133963, 133961, 133959, 132772, 133951, 133960, 133962, 54681)));
