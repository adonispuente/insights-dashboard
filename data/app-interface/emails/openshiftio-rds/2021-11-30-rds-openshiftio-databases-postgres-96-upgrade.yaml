---
$schema: /app-interface/app-interface-email-1.yml
labels: {}
name: 2021-11-30-rds-openshiftio-databases-postgres-96-upgrade
subject: '[Action required] Postgres 9.6 End-of-Life, openshift.io'
to:
  services:
  - $ref: /services/openshift.io/app.yml
body: |
  Hello,

  This email is regarding the end-of-life for Postgres 9.6 on AWS RDS. The
  following RDS instances are affected by this change:

  - prodkeycloak

  Starting January 18, 2022, any RDS instances still running Postgres 9.6 will
  be automatically upgraded to Postgres 12 [1]. This will result in a downtime
  during which the database is taken offline for the upgrade. Additional
  downtime is possible if your service doesn't support Postgres 12. Action must
  be taken before January 18th to avoid this automatic upgrade.

  The upgrade options are detailed more in the AWS documentation, but the
  summary is that you must upgrade to Postgres 10.x or a later supported
  version to avoid the automatic upgrade [2].

  For now, your team should investigate whether any changes are needed to your
  service to support a Postgres upgrade, if you have not already done so.
  The AppSRE team will reach out again to schedule a time to upgrade before the
  January 18th deadline. Note that this is a major version upgrade, so expect a
  period of downtime during the upgrade. Please reach out as soon as possible
  with any questions.

  [1] https://forums.aws.amazon.com/ann.jspa?annID=8499
  [2] https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_UpgradeDBInstance.PostgreSQL.html#USER_UpgradeDBInstance.PostgreSQL.MajorVersion

  Sincerely,

  The AppSRE Team.
