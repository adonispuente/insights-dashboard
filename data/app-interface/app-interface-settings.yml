---
$schema: /app-interface/app-interface-settings-1.yml

labels: {}

name: app-interface-settings
description: App Interface settings

# if set to true, use vault as secret source
# if set to false, use config file as secret source
vault: true

# kubernetes binary to use
# options:
# - kubectl
# - oc
kubeBinary: oc

# In order to submit PRs to app-interface
# in the case that the repo is not accessible during
# run time of an integration, use this service as a gateway
# options:
# - sqs
# - gitlab
pullRequestGateway: sqs

# In order to submit MRs to app-interface
# in the case that the repo is not accessible during
# run time of an integration, use this service as a gateway
# options:
# - sqs
# - gitlab
mergeRequestGateway: sqs

# Used to dynamically generate Jenkins jobs to deploy saas files
saasDeployJobTemplate: openshift-saas-deploy
# Default hash length to use in openshift-saas-deploy
# Can be overridden in a saas file resource template level
hashLength: 7

# Populate this map to enforce service dependencies
# are persisted in app-interface
dependencies:
- type: openshift
  services:
  - $ref: /dependencies/openshift/service.yml
- type: aws
  services:
  - $ref: /dependencies/aws/service.yml
  - $ref: /dependencies/openshift/service.yml
- type: github
  services:
  - $ref: /dependencies/github/service.yml
- type: gitlab
  services:
  - $ref: /dependencies/gitlab/service.yml
- type: quay
  services:
  - $ref: /dependencies/quay/service.yml
- type: ci-int
  services:
  - $ref: /dependencies/ci-int/service.yml
- type: ci-ext
  services:
  - $ref: /dependencies/ci-ext/service.yml
- type: kafka
  services:
  - $ref: /dependencies/kafka/service.yml

# Populate this map to allow credentials requests
# of additional credentials
credentials:
- name: app-interface-production-dev-access
  secret:
    path: app-sre/creds/app-interface/production/basic-auth
    field: dev-access
- name: app-interface-production-cicd-access
  secret:
    path: app-sre/creds/app-interface/production/basic-auth
    field: cicd-access

sqlQuery:
  imageRepository: quay.io/app-sre
  pullSecret:
    provider: vault-secret
    path: app-interface/global/quay/app-sre/quay.io
    version: 2
    type: kubernetes.io/dockercfg

pushGatewayCluster:
  $ref: /openshift/app-sre-prod-01/cluster.yml
