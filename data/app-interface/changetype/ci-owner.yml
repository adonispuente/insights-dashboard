---
$schema: /app-interface/change-type-1.yml

labels: {}

name: ci-owner
description: |
  Allow updates on CI resources related to an app.

priority: low

contextType: datafile
contextSchema: /app-sre/app-1.yml

changes:
- provider: jsonPath
  jsonPathSelectors:
  - dependencies
  - codeComponents
  - quayRepos[*].items
- provider: jsonPath
  changeSchema: /dependencies/jenkins-config-1.yml
  jsonPathSelectors:
  - name
  - labels
  - description
  - instance
  - type
  - config_path
  - config
  context:
    selector: app.'$ref'
- provider: jsonPath
  changeSchema: /dependencies/jenkins-config-1.yml
  jsonPathSelectors:
  - $
  context:
    selector: app.'$ref'
    when: added
