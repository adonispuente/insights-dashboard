---
$schema: /dependencies/endpoint-monitoring-provider-1.yml

labels: {}

name: blackbox-http-2xx-internal-stage-critical
description: |
  Checks a URL for HTTP 2xx status codes via blackbox-exporter

  Failing checks are alerted based on the prometheus alert
  EndpointMonitorBlackbox2xxProbeFailingInternalStagingCritical.

  This is aimed for services running in the internal cluster for
  that we want monitored from a different cluster. Since the only
  other internal cluster we have is appsres03ue1, a staging one,
  here we are.
provider: blackbox-exporter
metricLabels:
  environment: staging
blackboxExporter:
  namespace:
    $ref: /services/observability/namespaces/openshift-customer-monitoring.appsres03ue1.yml
  exporterUrl: http://blackbox-exporter.app-sre-observability-stage.svc.cluster.local:9115/probe
  module: http_2xx
