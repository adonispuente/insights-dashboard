---
$schema: /openshift/openshift-cluster-manager-1.yml

labels:
  service: osd-fleet-manager

name: osd-fleet-manager-ocm-stage
description: OpenShift Cluster Manager stage - OSD Fleet Manager
url: "https://api.stage.openshift.com"

accessTokenClientId: osd-fleet-manager-staging
accessTokenUrl: https://sso.redhat.com/auth/realms/redhat-external/protocol/openid-connect/token
accessTokenClientSecret:
  path: app-interface/osd-fleet-manager/stage/fleet-manager
  field: ocm-service.clientSecret
  version: 5

blockedVersions:
- '^.*-ec\..*$'
- '^.*-fc\..*$'
- '^4\.11\.0-rc\.[0-5]$'

# future development
# inheritVersionHistory:
# - ocm:
#     $ref: /dependencies/ocm/osd-fleet-manager/integration.yml

upgradePolicyClusters: []
# - name: hs-sc-ccb0thlad
#   spec:
#     product: osd
#     id: 1uhs1hhqrdhvf4got92eigmdghfdtmq6
#     version: 4.11.5
#     channel: stable
#   upgradePolicy:
#     workloads:
#     - service-cluster
#     schedule: 0 11 * * 1-5
#     conditions:
#       soakDays: 0
#       mutexes:
#       - service-cluster
# - name: hs-mc-cd8ni7ios
#   spec:
#     product: osd
#     id: 1vfim7gr74oakof0hdtg6ap77cdgj0oa
#     version: 4.11.8
#     channel: stable
#   upgradePolicy:
#     workloads:
#     - management-cluster
#     schedule: 0 15 * * 1-5
#     conditions:
#       soakDays: 0
#       mutexes:
#       - management-cluster
# - name: hs-mc-ccb16elad
#   spec:
#     product: osd
#     id: 1uhsaeg5557j573h28e3lcnfl80mq1go
#     version: 4.11.5
#     channel: stable
#   upgradePolicy:
#     workloads:
#     - management-cluster
#     schedule: 0 13 * * 1-5
#     conditions:
#       soakDays: 3
#       mutexes:
#       - management-cluster
