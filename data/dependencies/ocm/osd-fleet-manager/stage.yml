---
$schema: /openshift/openshift-cluster-manager-1.yml
labels:
  service: osd-fleet-manager
name: osd-fleet-manager-ocm-stage
description: OpenShift Cluster Manager stage - OSD Fleet Manager
url: https://api.stage.openshift.com
accessTokenClientId: osd-fleet-manager-staging
accessTokenUrl: https://sso.redhat.com/auth/realms/redhat-external/protocol/openid-connect/token
accessTokenClientSecret:
  path: app-interface/osd-fleet-manager/stage/fleet-manager
  field: ocm-service.clientSecret
  version: 5
blockedVersions:
- ^.*-ec\..*$
- ^.*-fc\..*$
- ^4\.11\.0-rc\.[0-5]$
upgradePolicyAllowedWorkloads:
- service-cluster
- management-cluster
upgradePolicyAllowedMutexes:
- service-cluster
- management-cluster
upgradePolicyDefaults:
- name: service-cluster-soak-0
  matchLabels:
    ext-hypershift.openshift.io/cluster-type: service-cluster
  upgradePolicy:
    workloads:
    - service-cluster
    schedule: 0 11 * * 1-5
    conditions:
      soakDays: 0
      mutexes:
      - service-cluster
- name: management-cluster-soak-0
  matchLabels:
    ext-hypershift.openshift.io/cluster-type: management-cluster
  upgradePolicy:
    workloads:
    - management-cluster
    schedule: 0 13 * * 1-5
    conditions:
      soakDays: 0
      mutexes:
      - management-cluster
upgradePolicyClusters:
- name: hs-sc-ccb0thlad
  upgradePolicy:
    workloads:
    - service-cluster
    schedule: 0 11 * * 1-5
    conditions:
      soakDays: 0
      mutexes:
      - service-cluster
- name: hs-mc-cd8ni7ios
  upgradePolicy:
    workloads:
    - management-cluster
    schedule: 0 13 * * 1-5
    conditions:
      soakDays: 0
      mutexes:
      - management-cluster
- name: hs-sc-hsglrkso0
  upgradePolicy:
    workloads:
    - service-cluster
    schedule: 0 11 * * 1-5
    conditions:
      soakDays: 0
      mutexes:
      - service-cluster
- name: hs-mc-hsglrlo90
  upgradePolicy:
    workloads:
    - management-cluster
    schedule: 0 13 * * 1-5
    conditions:
      soakDays: 0
      mutexes:
      - management-cluster
