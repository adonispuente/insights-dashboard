---
$schema: /openshift/openshift-cluster-manager-1.yml

labels: {}

name: rhtap
description: This is for managing ROSA clusters for Red Hat-Developer Tools-Stonesoup
environment:
  $ref: /dependencies/ocm/environments/production.yml
orgId: 2KYM6mWvxTvqkGXPrNTG7SEPDmG
upgradePolicyAllowedWorkloads:
- stone-stg-host
- stone-stg-m01
- stone-stg-rh01
- stone-prd-host
- stone-prd-m01
- stone-prd-rh01

AllowedMutexes:
- stage-infra
- prod-infra

sectors:
- name: stage
- name: prod
upgradePolicyClusters:
- name: stone-stg-042823
  upgradePolicy:
    workloads:
    - stone-stg-host
    - stone-stg-m01
    - stone-stg-rh01
    schedule: 0,15,30,45 * * * *
    conditions:
      sector: stage
      soakDays: 0
      mutexes:
      - stage-infra
- name: stone-prd-host-042823
  upgradePolicy:
    workloads:
    - stone-prd-host
    - stone-prd-m01
    - stone-prd-rh01
    schedule: 0,15,30,45 * * * *
    conditions:
      sector: prod
      soakDays: 0
      mutexes:
      - prod-infra
