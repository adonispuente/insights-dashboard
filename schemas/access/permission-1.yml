---
"$schema": /metaschema-1.json
version: "1.0"
type: object

additionalProperties: false
properties:
  "$schema":
    type: string
    enum:
    - /access/permission-1.yml
  labels:
    "$ref": "/common-1.json#/definitions/labels"
  name:
    type: string
  description:
    type: string
  service:
    type: string
  org:
    type: string
  team:
    type: string
  cluster:
    type: string
  namespace:
    type: string
  instance:
    type: string
  role:
    type: string
  group:
    type: string
  token:
    "$ref": "/common-1.json#/definitions/vaultSecret"
oneOf:
- properties:
    service:
      enum:
      - aws-analytics
- properties:
    service:
      enum:
      - github-org
    org:
      type: string
  required:
  - org
- properties:
    service:
      enum:
      - github-org-team
    org:
      type: string
    team:
      type: string
  required:
  - org
  - team
- properties:
    service:
      enum:
      - openshift-rolebinding
    cluster:
      type: string
    namespace:
      type: string
    role:
      type: string
  required:
  - cluster
  - namespace
  - role
- properties:
    service:
      enum:
      - openshift-group
    cluster:
      type: string
    group:
      type: string
  required:
  - cluster
  - group
- properties:
    service:
      enum:
      - quay-membership
    org:
      type: string
    team:
      type: string
  required:
  - org
  - team
- properties:
    service:
      enum:
      - jenkins-role
    instance:
      type: string
    role:
      type: string
    token:
      "$ref": "/common-1.json#/definitions/vaultSecret"
  required:
  - role
  - token
required:
- $schema
- labels
- name
- description
- service
